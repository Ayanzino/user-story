{"version":3,"sources":["assets/images/loading.svg","assets/images/user-story-graphic.svg","assets/images/story-page-pattern.svg","components/Button.js","components/Modal.js","services/api.js","services/gql_fragments.js","services/user_story.js","components/Vote.js","utils/filterText.js","components/StoriesList.js","components/Pagination.js","components/Dropdown.js","modules/LoadingIndicator.js","components/UsersSuggestionDropdown.js","modules/SearchInput.js","utils/Lists.js","components/ProductList.jsx","components/Stories.js","modules/Context.js","hooks/useAuth.js","components/Notifications.js","components/Navigation.js","pages/Home.js","components/FormError.js","components/LanguageDropdown.js","components/SocialMediaLinks.jsx","components/AuthWrapper.jsx","pages/Login.js","pages/Register.js","pages/ForgotPassword.js","pages/ResetPassword.js","components/MarkdownEditor.js","modules/TitleSearch.js","components/MediaPreview.js","components/Dragdrop.js","pages/NewStory.js","components/ImageGallery.js","components/StoryPageTimeline.js","components/ShowMore.js","components/CommentForm.js","components/Comments.js","pages/Story.js","pages/MyStories.js","components/ProfileImageUploader.js","components/EditableLabel.jsx","components/EditProfileBadge.js","components/UserProfile.jsx","pages/MyProfile.js","pages/Page404.js","pages/Profile.js","pages/ChangePassword.js","pages/Policies.js","pages/Notifications.js","modules/ContextReducer.js","components/Footer.jsx","App.js","serviceWorker.js","modules/i18n.js","index.js","assets/images/user-story-logo.svg"],"names":["module","exports","Button","children","className","action","type","onClick","disabled","rest","Modal","props","isActive","cancelText","okText","onCancel","onOk","showButtons","active","handleClose","content","config","baseURL","apiURL","withCredentials","apiClient","axios","create","interceptors","response","use","APP_ENV","console","log","error","Promise","reject","request","message","apiCall","url","data","method","BASIC_STORY_INFO_FRAGMENT","NOTIFICATION_DATA_FRAGMENT","userStory","createStory","checkAuthor","userId","storyId","id","getStoriesByTitle","title","query","getStories","page","currentStateSelected","authorId","authorQuery","categoryQuery","productQuery","searchQuery","followerId","storiesQuery","getStory","storyQuery","getStoryCount","storyCountQuery","updateUserStoryDescription","description","updateQuery","getCategories","getPolicies","getPriorities","getProducts","getProductCount","getProductsWithTemplates","getNotificationsByUserId","notificationQuery","getPolicyNotifications","policyQuery","markNotificationAsRead","notificationId","seenBy","markNotificationAsReadQuery","variables","getUserDetails","userQuery","updateUser","user","Name","username","Profession","Company","LinkedIn","Twitter","Bio","getUsers","getComments","commentsQuery","postComment","postCommentReply","updateVotes","updatedFollowerIds","updateVotesQuery","Vote","story","localStorage","getItem","followerIds","followers","map","follower","JSON","stringify","useState","setFollowers","length","votes","setVotes","voteClicked","setVoteClicked","voted","setVoted","isOpen","setIsOpen","togglePopup","useEffect","includes","updateVote","a","filter","updateUserStory","push","color","voters","src","alt","to","filterDescriptionText","text","replace","strip","html","len","substring","StorySkeleton","height","circle","width","StoriesList","stories","isLoading","i","key","data-cy","navigate","Title","Description","author","profilePicture","Category","Attachment","user_story_comments","Pagination","getPage","storyCount","status","currNumber","setCurrNumber","pages","setPages","n","Math","ceil","Array","keys","slice","find","ele","Dropdown","reference","curr","setCurr","itemList","selectstate","setpage","dropdownState","setDropdownState","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","ref","item","value","LoadingIndicator","require","UsersSuggestionDropdown","userTerm","setUserTerm","setAuthorQuery","setUsersSuggestionOpen","usersToSuggest","setUsersToSuggest","promiseInProgress","usePromiseTracker","area","dropDown","useRef","cancelToken","cancel","CancelToken","source","fetchUsers","post","token","users","trackPromise","SearchInput","searchTerm","setSearchTerm","setSearchQuery","fieldToSearchDropdownContainer","fieldToSearch","setFieldToSearch","usersSuggestionOpen","handleSearchSubmit","name","placeholder","autoComplete","onChange","onKeyDown","onFocus","Lists","stateList","icon","sortByList","ProductSkeleton","ProductCard","product","selected","setProduct","split","join","logo","ProductList","setProductQuery","productCount","setProductCount","products","setProducts","fetchProductCount","productsConnection","aggregate","count","fetchProducts","fill","_","index","p","Stories","selectState","setPage","statusOptions","setStatus","sort","setSort","category","setCategory","categories","setCategories","setStoryCount","setStories","statusDropdownContainer","sortDropdownContainer","categoryDropdownContainer","setCategoryQuery","useCallback","userStoriesConnection","fetchStoryCount","fetchStories","userStories","__type","enumValues","fetchCategories","comparatorVotes","b","comparatorComments","updateStories","state","Context","createContext","useAuth","dispatch","useContext","registerUser","credentials","catch","err","payload","messages","login","logout","clear","forgotPassword","reply","resetPassword","changePassword","password","passwordConfirmation","Notifications","notifications","setNotifications","notificationsDropdownState","setNotificationsDropdownState","notificationCount","setNotificationCount","notificationsSeen","setNotificationsSeen","notificationsDropdownContainer","unseenNotifications","userStoryNotifications","notification","seen","fetchNotifications","onNotificationClick","link","auth","forEach","Navigation","userName","userEmail","userDropdownState","setUserDropdownState","userDropdownContainer","handleLogout","eosIcon","Home","modal","setModal","policyUpdate","setPolicyUpdate","fetchPolicyNotifications","acceptUpdatedPolicy","handlePolicyUpdateReject","Helmet","show","FormError","class","LanguageDropdown","translator","container","changeLanguage","SocialMediaLinks","rel","href","xmlns","data-name","d","AuthLeftContainer","t","useTranslation","AuthRightContainer","i18n","AuthWrapper","Login","useForm","register","handleSubmit","errors","showPassword","toggleShowPassword","onSubmit","identifier","setItem","email","errorCode","htmlFor","required","Register","minLength","tc","ForgotPassword","setResponse","ResetPassword","location","useLocation","code","search","mdParser","MarkdownIt","set","MarkdownEditor","callback","userInput","setUserInput","view","plugins","style","renderHTML","render","Search","searchResults","setSearchResults","handleTitleChange","debounce","result","window","open","MediaPreview","attachments","setAttachments","mediaPreview","file","attachment","preview","Dragdrop","useDropzone","multiple","onDrop","acceptedFiles","Object","assign","URL","createObjectURL","getRootProps","getInputProps","revokeObjectURL","initialDescriptionInputsValue","None","NewStory","watch","currentProductSelected","setCurrentProductSelected","descriptionError","setDescriptionError","descriptionInputs","setDescriptionInputs","setDescription","priorities","setPriorities","screenSize","setScreenSize","useLayoutEffect","updateScreenSize","innerWidth","productToTemplateTextMap","product_template","fetchPriorities","formData","FormData","append","selectedProduct","defaultValue","Priority","Gallery","imageArray","images","original","thumbnail","items","showBullets","lazyLoad","showPlayButton","showThumbnails","StoryPageTimeline","currentStatus","previousStatuses","setPreviousStatuses","tempList","setStatuses","size","ShowMore","txt","textLength","maxCharacterLimit","isTruncated","setIsTruncated","resultString","dangerouslySetInnerHTML","__html","CommentForm","addComment","comment","setComment","cta","setUsers","handleFileChange","newFiles","files","newFilesArray","inputRef","e","allowSuggestionsAboveCursor","trigger","displayTransform","display","Comments","attachFiles","toggleViewReplies","viewRepliesToggled","setViewRepliesToggled","concat","commentId","setCommentId","commentReply","setCommentReply","comments","setComments","repliesToggled","setRepliesToggled","replyAttachments","setReplyAttachments","fetchStoryComments","user_story","addCommentReply","user_story_comment","createdAt","toggleReplyForm","user_story_comment_replies","Story","setStory","editDescription","editMode","setEditMode","editor","setEditor","fetchStory","editStory","save","preventDefault","combinedDescription","filteredDescription","viewBox","cx","cy","r","dummy","createElement","body","appendChild","select","execCommand","removeChild","user_story_status","Status","TwitterShareButton","hashtags","onShareWindowClose","TwitterIcon","LinkedinShareButton","LinkedinIcon","MyStories","ProfileImageUploader","setShow","profilePicURL","profilePicId","setError","setFile","removedProfilePic","setRemovedProfilePic","isUploading","setIsUploading","clearModal","upload","delete","all","headers","reload","accept","minSize","maxSize","newFile","rejectedFile","fileErrors","indexOf","TextInput","TextArea","rows","cols","EditableLabel","handleInputChange","updateProfile","allowEditing","onKeyPress","ComponentToRender","EditProfileBadge","showModal","UserAvatar","modalVisible","setModalVisible","UserSettings","UserDetails","UserProfile","MyProfile","setUser","setUpdated","fetchUserInfo","Page404","Profile","profileId","ChangePassword","handleNavigateToLogin","oldPassword","Policies","policies","setPolicies","fetchPolicies","userStoryPolicies","date","ContextReducer","initialState","App","useReducer","Provider","path","default","Footer","Boolean","hostname","match","resources","en","es","commonES","initReactI18next","init","lng","keySeparator","interpolation","escapeValue","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.84767629.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.641bf49c.svg\";","module.exports = __webpack_public_path__ + \"static/media/user-story-graphic.b152d872.svg\";","module.exports = __webpack_public_path__ + \"static/media/story-page-pattern.fa56c7eb.svg\";","import React from 'react'\n\nconst Button = ({\n  children,\n  className,\n  action,\n  type,\n  onClick,\n  disabled,\n  ...rest\n}) => {\n  return (\n    <button\n      className={className}\n      action={action}\n      type={type}\n      onClick={onClick}\n      disabled={disabled}\n      {...rest}\n    >\n      {children}\n    </button>\n  )\n}\n\nexport default Button\n","import React from 'react'\n\nimport Button from './Button'\n\nconst Modal = (props) => {\n  const {\n    isActive,\n    children,\n    cancelText,\n    okText,\n    onCancel,\n    onOk,\n    showButtons,\n    active\n  } = props\n\n  return (\n    <>\n      {' '}\n      {isActive ? (\n        <div className='modal'>\n          <div className='modal-card'>\n            <div className='flex flex-row modal-content'>{children}</div>\n            {showButtons && (\n              <div className='flex flex-row flex-space-around'>\n                <Button className='btn btn-default' onClick={onCancel}>\n                  {cancelText || 'Cancel'}\n                </Button>\n                <Button className='btn btn-default' onClick={onOk}>\n                  {okText || 'Accept'}\n                </Button>\n              </div>\n            )}\n          </div>\n        </div>\n      ) : (\n        ''\n      )}\n      {active ? (\n        <>\n          <div className='modal'>\n            <div className='modal-card-vote'>\n              <div className='modal-content'>\n                <span className='close-icon' onClick={props.handleClose}>\n                  &times;\n                </span>\n                {props.content}\n              </div>\n            </div>\n          </div>\n        </>\n      ) : (\n        ''\n      )}\n    </>\n  )\n}\n\nexport default Modal\n","import axios from 'axios'\nimport { apiURL, APP_ENV } from '../config.json'\n\nconst config = {\n  baseURL: apiURL,\n  withCredentials: true\n}\n\nconst apiClient = axios.create(config)\n\napiClient.interceptors.response.use(\n  (response) => {\n    if (APP_ENV !== 'prod') {\n      console.log('RESPONSE: ', response)\n    }\n    return response\n  },\n  (error) => {\n    if (error.response) {\n      // The request was made and the server responded with a status code\n      console.log('RESPONSE_ERROR: ', error.response)\n      return Promise.reject(error.response)\n    } else if (error.request) {\n      // The request was made but no response was received\n      console.log('NO_RESPONSE: ', error.request)\n    } else {\n      // Something happened in setting up the request that triggered an error\n      console.log('REQUEST_ERROR: ', error.message)\n    }\n  }\n)\n\nfunction apiCall(url, data) {\n  return apiClient.request({\n    url,\n    method: 'post',\n    data,\n    ...config\n  })\n}\n\nexport default apiCall\n","export const BASIC_STORY_INFO_FRAGMENT = `fragment BasicStoryInfo on UserStory {\n  id\n  Title\n  Description\n  followers {\n    id\n    username\n  }\n}`\n\nexport const NOTIFICATION_DATA_FRAGMENT = `fragment NotificationData on UserStoryNotification {\n  message\n  id\n  users {\n    id\n  }\n  seenBy {\n    id\n  }\n  date\n  link\n}`\n","import apiCall from './api'\nimport {\n  BASIC_STORY_INFO_FRAGMENT,\n  NOTIFICATION_DATA_FRAGMENT\n} from './gql_fragments'\n\nconst userStory = {\n  createStory: (data) => {\n    return apiCall('/user-stories', data)\n  },\n  checkAuthor: (userId, storyId) => {\n    return apiCall('/checkAuthor', {\n      id: userId,\n      storyId: storyId\n    })\n  },\n  getStoriesByTitle: (title) => {\n    const query = {\n      query: `query {\n        userStories(sort: \"votes:desc,createdAt:desc\", where: {\n          Title_contains: \"${title}\"\n        }) {\n          ...BasicStoryInfo\n        }\n      }\n      ${BASIC_STORY_INFO_FRAGMENT}\n      `\n    }\n    return apiCall('/graphql', query)\n  },\n  getStories: (\n    page,\n    currentStateSelected,\n    authorId,\n    authorQuery,\n    categoryQuery,\n    productQuery,\n    searchQuery,\n    followerId\n  ) => {\n    authorId = !authorId ? '' : `id: \"${authorId}\"`\n    followerId = !followerId ? '' : `followers: \"${followerId}\"`\n    const storiesQuery = {\n      query: `query {\n              userStories(sort: \"createdAt:desc\", limit: 5, start: ${\n                (page - 1) * 5\n              }, where: {\n                  user_story_status : {\n                    Status: \"${currentStateSelected}\"\n                  },\n                  author: {\n                    ${authorId}\n                    username_contains: \"${authorQuery}\"\n                  }\n                  ${categoryQuery}\n                  ${productQuery}\n                  ${searchQuery}\n                  ${followerId}\n              }) {\n                id\n                Title\n                Description\n                user_story_status {\n                  Status\n                }\n                user_story_comments {\n                  Comments\n                }\n                product {\n                  Name\n                }\n                Attachment {\n                  id\n                  url\n                }\n                author {\n                  id\n                  username\n                  profilePicture {\n                    id\n                    url\n                  }\n                }\n                followers {\n                  id\n                  username\n                }\n                Category\n              }\n            }\n            `\n    }\n    return apiCall('/graphql', storiesQuery)\n  },\n  getStory: (storyId) => {\n    const storyQuery = {\n      query: `query {\n        userStory(id: \"${storyId}\") {\n          ...BasicStoryInfo\n          user_story_status {\n            Status\n          }\n          user_story_comments {\n            Comments\n          }\n          author {\n            id\n            username\n          }\n          Attachment {\n            id\n            url\n          }\n        }\n      }\n      ${BASIC_STORY_INFO_FRAGMENT}\n      `\n    }\n    return apiCall('/graphql', storyQuery)\n  },\n  getStoryCount: (\n    currentStateSelected,\n    authorId,\n    authorQuery,\n    categoryQuery,\n    productQuery,\n    searchQuery,\n    followerId\n  ) => {\n    authorId = !authorId ? '' : `id: \"${authorId}\"`\n    followerId = !followerId ? '' : `followers: \"${followerId}\"`\n    const storyCountQuery = {\n      query: `query {\n              userStoriesConnection(where: {\n                user_story_status: {\n                  Status: \"${currentStateSelected}\"\n                },\n                author: {\n                  ${authorId}\n                  username_contains: \"${authorQuery}\"\n                }\n                ${categoryQuery}\n                ${productQuery}\n                ${searchQuery}\n                ${followerId}\n              }) {\n                aggregate {\n                  count\n                }\n              }\n            }`\n    }\n    return apiCall('/graphql', storyCountQuery)\n  },\n  updateUserStoryDescription: (storyId, description) => {\n    const updateQuery = {\n      query: `mutation {\n        updateUserStory(\n          input: { where: { id: \"${storyId}\" }, data: { Description: \"${description}\" } }\n        ) {\n          userStory {\n            updatedAt\n          }\n        }\n      }`\n    }\n    return apiCall('/graphql', updateQuery)\n  },\n  getCategories: () => {\n    const categoryQuery = {\n      query: '{ __type(name: \"ENUM_USERSTORY_CATEGORY\") {enumValues {name}}}'\n    }\n    return apiCall('/graphql', categoryQuery)\n  },\n  getPolicies: () => {\n    const policyQuery = {\n      query: `query {\n        userStoryPolicies {\n          Description\n        }\n      }`\n    }\n    return apiCall('/graphql', policyQuery)\n  },\n  getPriorities: () => {\n    const priorityQuery = {\n      query: `query { __type(name: \"ENUM_USERSTORY_PRIORITY\") {enumValues {name}}}`\n    }\n    return apiCall('/graphql', priorityQuery)\n  },\n  getProducts: () => {\n    const productQuery = {\n      query: `query {\n              products {\n                Name\n                logo {\n                  url\n                }\n              }\n            }`\n    }\n    return apiCall('/graphql', productQuery)\n  },\n  getProductCount: () => {\n    const productCountQuery = {\n      query: `query {\n        productsConnection {\n          aggregate {\n            count\n          }\n        }\n      }`\n    }\n    return apiCall('/graphql', productCountQuery)\n  },\n  getProductsWithTemplates: () => {\n    const productQuery = {\n      query: `query {\n              products {\n                id\n                Name\n                product_template\n              }\n            }`\n    }\n    return apiCall('/graphql', productQuery)\n  },\n  getNotificationsByUserId: (userId) => {\n    const notificationQuery = {\n      query: `query {\n        userStoryNotifications (where: {\n          users: {\n            id: \"${userId}\"\n          }\n        }){\n          ...NotificationData\n        }\n      }\n      ${NOTIFICATION_DATA_FRAGMENT}\n      `\n    }\n    return apiCall('/graphql', notificationQuery)\n  },\n  getPolicyNotifications: () => {\n    const policyQuery = {\n      query: `query {\n            userStoryNotifications(where: {message: \"User story privacy policy has been updated\"}) {\n              ...NotificationData\n            }\n          }\n          ${NOTIFICATION_DATA_FRAGMENT}\n          `\n    }\n    return apiCall('/graphql', policyQuery)\n  },\n  markNotificationAsRead: (notificationId, seenBy) => {\n    const markNotificationAsReadQuery = {\n      query: `mutation updateNotifications($seenBy: [ID]) {\n        updateUserStoryNotification(input: {\n          where: {\n            id: \"${notificationId}\"\n          }\n          data: {\n            seenBy: $seenBy\n          }\n        }) {\n          userStoryNotification {\n            id\n          }\n        }\n      }`,\n      variables: {\n        seenBy: seenBy\n      }\n    }\n    return apiCall('/graphql', markNotificationAsReadQuery)\n  },\n  getUserDetails: (userId) => {\n    const userQuery = {\n      query: `query {\n        user(id: \"${userId}\") {\n          profilePicture {\n            id\n            url\n          }\n          Name\n          Bio\n          username\n          Company\n          Profession\n          email\n          LinkedIn\n          Twitter\n        }\n      }\n      `\n    }\n    return apiCall('/graphql', userQuery)\n  },\n  updateUser: (user) => {\n    const updateQuery = {\n      query: `mutation {\n        updateUser(input: {\n          where: {\n            id: \"${user.id}\"\n          }\n          data: {\n            Name: \"${user.Name ?? user.username}\"\n            Profession: \"${user.Profession ?? ''}\"\n            Company: \"${user.Company ?? ''}\"\n            LinkedIn: \"${user.LinkedIn ?? ''}\"\n            Twitter: \"${user.Twitter ?? ''}\"\n            Bio: \"${user.Bio ?? ''}\"\n          }\n        }) {\n          user {\n            username\n          }\n        }\n      }`\n    }\n    return apiCall('/graphql', updateQuery)\n  },\n  getUsers: () => {\n    const getUsersQuery = {\n      query: `\n      query {\n        users {\n          id\n          display: username\n        }\n      }`\n    }\n    return apiCall('/graphql', getUsersQuery)\n  },\n  getComments: (storyId) => {\n    const commentsQuery = {\n      query: `\n      query {\n        userStory(id: \"${storyId}\") {\n          user_story_comments {\n            id\n            Comments\n            user {\n              id\n              username\n            }\n            createdAt\n            attachment {\n              url\n              id\n            }\n            user_story_comment_replies {\n              createdAt\n              Comments\n              user {\n                id\n                username\n              }\n              attachment {\n                id\n                url\n              }\n            }\n          }\n        }\n       }`\n    }\n    return apiCall('/graphql', commentsQuery)\n  },\n  postComment: (data) => {\n    return apiCall('/user-story-comments', data)\n  },\n  postCommentReply: (data) => {\n    return apiCall('/user-story-comment-threads', data)\n  },\n  updateVotes: (storyId, updatedFollowerIds) => {\n    const updateVotesQuery = {\n      query: `\n      mutation {\n        updateUserStory(input: {where: {id: \"${storyId}\"} data: {followers: [${updatedFollowerIds}]}}){\n          userStory{\n            followers {\n              id\n            }\n          }\n        }\n      }\n      `\n    }\n    return apiCall('/graphql', updateVotesQuery)\n  }\n}\n\nexport default userStory\n","import React, { useState, useEffect } from 'react'\nimport Modal from './Modal'\nimport { Link } from '@reach/router'\nimport userStory from '../services/user_story'\nimport { EOS_THUMB_UP } from 'eos-icons-react'\n\nconst Vote = (props) => {\n  const { story } = props\n\n  const userId = localStorage.getItem('id')\n\n  const followerIds = story.followers.map((follower) =>\n    JSON.stringify(follower.id)\n  )\n\n  const [followers, setFollowers] = useState(followerIds)\n\n  const [votes, setVotes] = useState(story.followers.length)\n\n  const [voteClicked, setVoteClicked] = useState(false)\n\n  const [voted, setVoted] = useState(false)\n\n  const [isOpen, setIsOpen] = useState(false)\n\n  const togglePopup = () => {\n    setIsOpen(!isOpen)\n  }\n\n  useEffect(() => {\n    const followerIds = story.followers.map((follower) => follower.id)\n    if (followerIds.includes(userId)) {\n      setVoted(true)\n    }\n  }, [story.followers, userId])\n\n  const updateVote = async (story) => {\n    setVoteClicked(true)\n    if (voted) {\n      let updatedFollowerIds = followers.filter(\n        (id) => id !== JSON.stringify(userId)\n      )\n      const response = await userStory.updateVotes(story.id, updatedFollowerIds)\n      updatedFollowerIds = response.data.data.updateUserStory.userStory.followers.map(\n        (follower) => JSON.stringify(follower.id)\n      )\n      setFollowers(updatedFollowerIds)\n      setVoted(false)\n      setVotes((votes) => votes - 1)\n    } else {\n      followers.push(JSON.stringify(userId))\n      let updatedFollowerIds = followers\n      const response = await userStory.updateVotes(story.id, updatedFollowerIds)\n      updatedFollowerIds = response.data.data.updateUserStory.userStory.followers.map(\n        (follower) => JSON.stringify(follower.id)\n      )\n      setFollowers(updatedFollowerIds)\n      setVoted(true)\n      setVotes((votes) => votes + 1)\n    }\n    setVoteClicked(false)\n  }\n\n  return (\n    <div\n      className={`flex flex-column vote-wrapper ${\n        userId && voted ? 'vote-wrapper-voted' : ''\n      }`}\n    >\n      <div className='votes-count' onClick={togglePopup}>\n        {votes}\n      </div>\n      <div\n        className={`vote-button ${userId ? 'vote-button-clickable' : ''}`}\n        onClick={() => {\n          if (userId && !voteClicked) updateVote(story)\n        }}\n      >\n        <EOS_THUMB_UP className='eos-icons' color='white' />\n        Vote\n      </div>\n      {isOpen && (\n        <Modal\n          content={\n            <>\n              <div>\n                {story.followers.length === 0 ? (\n                  <h1>No Voters For This Story</h1>\n                ) : (\n                  <h1>Voters For This Story</h1>\n                )}\n              </div>\n              {story.followers.map((voters) => (\n                <div className='flex flex-row author-information'>\n                  <div className='user-avatar avatar-vote'>\n                    <img\n                      className='avatar'\n                      src={`https://avatars.dicebear.com/api/jdenticon/${voters.username}.svg`}\n                      alt='Default User Avatar'\n                    ></img>\n                  </div>\n                  <div>\n                    <Link\n                      className='link-vote link link-default'\n                      to={`/profile/${voters.id}`}\n                    >\n                      {voters.username}\n                    </Link>\n                  </div>\n                </div>\n              ))}\n            </>\n          }\n          handleClose={togglePopup}\n          active={isOpen}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Vote\n","export const filterDescriptionText = (text) => {\n  text = text.replace(/\\\\*\"/g, '\\\\\"') // Replace all occurences of \" with \\\"\n  text = text.replace(/[\\r\\n]/g, '') // Remove the line endings\n  return text\n}\n\nexport const strip = (html, len) => {\n  html = html.replace(/<\\s*[^>]*>/gi, '')\n  if (html.length > len) {\n    html = `${html.substring(0, len)}...`\n  }\n  return html\n}\n","import React from 'react'\nimport { navigate, Link } from '@reach/router'\nimport { EOS_COMMENT, EOS_ATTACHMENT } from 'eos-icons-react'\n\nimport Vote from './Vote'\nimport { strip } from '../utils/filterText'\nimport Skeleton from 'react-loading-skeleton'\n\nconst StorySkeleton = () => (\n  <div className='story'>\n    <div className='vote-wrapper-loading'>\n      <Skeleton height={80} />\n    </div>\n    <div className='stories-content'>\n      <h3>\n        <Skeleton height={20} />\n      </h3>\n      <p>\n        <Skeleton />\n      </p>\n    </div>\n    <div className='story-author story-subcontent'>\n      <div className='user-avatar'>\n        <Skeleton circle width={58} height={58} />\n      </div>\n      <div className='flex flex-column'>\n        <Skeleton width={52} />\n      </div>\n    </div>\n    <div className='flex flex-column story-subcontent'>\n      <Skeleton width={52} />\n    </div>\n    <div className='flex flex-column'>\n      <span className='story-meta'>\n        <Skeleton width={52} />\n      </span>\n      <span className='story-meta'>\n        <Skeleton width={52} />\n      </span>\n    </div>\n  </div>\n)\n\nconst StoriesList = (props) => {\n  const { stories, isLoading } = props\n\n  if (isLoading) {\n    return (\n      <div className='flex flex-column'>\n        {[1, 2, 3, 4, 5].map((i) => (\n          <StorySkeleton key={i} />\n        ))}\n      </div>\n    )\n  }\n\n  return (\n    <div className='flex flex-column' data-cy='stories'>\n      {stories && stories.length ? (\n        stories.map((story, key) => {\n          return (\n            <div className='story' key={key}>\n              <Vote story={story} />\n              <div\n                className='stories-content'\n                onClick={() => {\n                  navigate(`/story/${story.id}`)\n                }}\n              >\n                <h3>{strip(story.Title, 80)}</h3>\n                <p>{strip(story.Description, 80)}</p>\n              </div>\n              <div className='story-small-details'>\n                <div className='story-author story-subcontent'>\n                  <div className='user-avatar'>\n                    <img\n                      className='avatar'\n                      src={\n                        story?.author?.profilePicture?.url ??\n                        `https://avatars.dicebear.com/api/jdenticon/${story.author.username}.svg`\n                      }\n                      alt='Default User Avatar'\n                    ></img>\n                  </div>\n                  <div className='flex flex-column'>\n                    <small>Created by</small>\n                    <Link\n                      className='link link-default'\n                      to={`/profile/${story.author.id}`}\n                    >\n                      {story.author.username}\n                    </Link>\n                  </div>\n                </div>\n                <div className='flex flex-column story-subcontent'>\n                  <small>Category</small>\n                  <span className='category-text'>{story.Category}</span>\n                </div>\n                <div className='flex flex-column s-metas'>\n                  <span className='story-meta'>\n                    <EOS_ATTACHMENT className='eos-icons' />\n                    {story.Attachment.length}\n                  </span>\n                  <span className='story-meta'>\n                    <EOS_COMMENT className='eos-icons' />\n                    {story.user_story_comments.length}\n                  </span>\n                </div>\n              </div>\n            </div>\n          )\n        })\n      ) : (\n        <h3>No stories</h3>\n      )}\n    </div>\n  )\n}\n\nexport default StoriesList\n","import React, { useState, useEffect } from 'react'\nimport {\n  EOS_KEYBOARD_ARROW_LEFT,\n  EOS_KEYBOARD_ARROW_RIGHT\n} from 'eos-icons-react'\n\nconst Pagination = (props) => {\n  const { getPage, storyCount, status, productQuery } = props\n\n  const [currNumber, setCurrNumber] = useState(1)\n\n  const [pages, setPages] = useState(null)\n\n  useEffect(() => {\n    const resetPage = () => {\n      setCurrNumber(1)\n      getPage(1)\n    }\n    resetPage()\n  }, [status, productQuery, getPage])\n\n  useEffect(() => {\n    if (storyCount) {\n      if (storyCount >= 5) {\n        const n = Math.ceil(storyCount / 5)\n        setPages([...Array(n + 1).keys()].slice(1))\n      } else {\n        setPages([1])\n      }\n    }\n  }, [storyCount])\n\n  return (\n    <div className='pagination'>\n      <span\n        className={`btn btn-pagination ${\n          currNumber <= 1 ? 'btn-pagination-disabled' : ''\n        }`}\n        onClick={() => {\n          if (pages.find((page) => page === currNumber - 1)) {\n            setCurrNumber((currNumber) => currNumber - 1)\n            getPage(currNumber - 1)\n          }\n        }}\n      >\n        <EOS_KEYBOARD_ARROW_LEFT className='eos-icons eos-18' />\n        {`Prev`}\n      </span>\n      <div className='btn btn-pagination'>\n        {pages\n          ? pages.map((ele, key) => {\n              return (\n                <span\n                  className={`number ${currNumber === ele ? 'selected' : ''}`}\n                  onClick={() => {\n                    setCurrNumber(ele)\n                    getPage(ele)\n                  }}\n                  key={key}\n                >\n                  {ele}\n                </span>\n              )\n            })\n          : ''}\n      </div>\n      <span\n        className={`btn btn-pagination ${\n          currNumber >= pages?.length ? 'btn-pagination-disabled' : ''\n        }`}\n        onClick={() => {\n          if (pages.find((page) => page === currNumber + 1)) {\n            setCurrNumber((currNumber) => currNumber + 1)\n            getPage(currNumber + 1)\n          }\n        }}\n      >\n        {`Next`}\n        <EOS_KEYBOARD_ARROW_RIGHT className='eos-icons eos-18' />\n      </span>\n    </div>\n  )\n}\n\nexport default Pagination\n","import React, { useState, useEffect } from 'react'\nimport { EOS_KEYBOARD_ARROW_UP, EOS_KEYBOARD_ARROW_DOWN } from 'eos-icons-react'\n\nimport Button from './Button'\n\nconst Dropdown = (props) => {\n  const {\n    title,\n    reference,\n    curr,\n    setCurr,\n    itemList,\n    selectstate,\n    setpage,\n    ...rest\n  } = props\n\n  const [dropdownState, setDropdownState] = useState(false)\n\n  const handleDropdownState = () => {\n    setDropdownState(!dropdownState)\n  }\n\n  const handleSelection = (value) => {\n    setCurr(value)\n    setDropdownState(false)\n    if (title === 'Status') {\n      selectstate(value)\n      setpage(1)\n    }\n  }\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (reference.current && !reference.current.contains(event.target)) {\n        setDropdownState(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [reference])\n\n  return (\n    <>\n      <div className='dropdown-main'>\n        <div className='filter-title'>{title}</div>\n        <div className='dropdown-container' ref={reference} {...rest}>\n          <Button\n            type='button'\n            className='btn btn-transparent flex flex-row'\n            onClick={handleDropdownState}\n          >\n            {dropdownState ? (\n              <EOS_KEYBOARD_ARROW_UP className='eos-icons' />\n            ) : (\n              <EOS_KEYBOARD_ARROW_DOWN className='eos-icons' />\n            )}\n            &nbsp; <div className='curr'> {curr} </div>\n          </Button>\n          <div\n            className={`dropdown ${\n              dropdownState\n                ? 'dropdown-open dropdown-right'\n                : 'dropdown-close dropdown-right'\n            }`}\n          >\n            <ul className='dropdown-list'>\n              {itemList.map((item, key) => (\n                <li\n                  key={key}\n                  className='dropdown-element'\n                  onClick={() => handleSelection(item)}\n                >\n                  {item}\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Dropdown\n","import React from 'react'\n\nconst LoadingIndicator = () => {\n  return (\n    <div className='loading-indicator'>\n      <img\n        className='loader-image'\n        src={require('../assets/images/loading.svg')}\n        alt='loader'\n      ></img>\n    </div>\n  )\n}\n\nexport default LoadingIndicator\n","import React, { useEffect, useRef, useState } from 'react'\nimport axios from 'axios'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\nimport { apiURL } from '../config.json'\nimport LoadingIndicator from '../modules/LoadingIndicator'\n\nconst UsersSuggestionDropdown = ({\n  isOpen,\n  userTerm,\n  setUserTerm,\n  setAuthorQuery,\n  setUsersSuggestionOpen\n}) => {\n  const [usersToSuggest, setUsersToSuggest] = useState([])\n\n  const { promiseInProgress } = usePromiseTracker({\n    area: 'user-suggest-dropdown'\n  })\n\n  const dropDown = useRef(null)\n\n  const cancelToken = useRef()\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropDown.current && !dropDown.current.contains(event.target)) {\n        setUsersSuggestionOpen(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [setUsersSuggestionOpen])\n\n  useEffect(() => {\n    if (userTerm.length <= 0) {\n      setUsersSuggestionOpen(false)\n      return\n    }\n\n    if (typeof cancelToken.current !== typeof undefined) {\n      cancelToken.current.cancel()\n    }\n\n    cancelToken.current = axios.CancelToken.source()\n\n    const fetchUsers = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n            users (where: {\n              username_contains: \"${userTerm}\"\n            }) {\n              id\n              username\n              profilePicture {\n                url\n              }\n            }\n          }`\n        },\n        { cancelToken: cancelToken.current.token }\n      )\n      setUsersToSuggest(response.data.data?.users ?? [])\n    }\n    if (userTerm.length > 0) {\n      trackPromise(fetchUsers(), 'user-suggest-dropdown')\n    } else {\n      setUsersToSuggest([])\n    }\n  }, [userTerm, setUsersSuggestionOpen])\n\n  if (!isOpen) {\n    return null\n  }\n  return (\n    <div\n      ref={dropDown}\n      className='flex flex-center dropdown user-suggest-dropdown'\n    >\n      {promiseInProgress ? (\n        <LoadingIndicator />\n      ) : usersToSuggest.length > 0 ? (\n        <ul className='dropdown-list'>\n          {usersToSuggest.map((user) => (\n            <li\n              key={user.id}\n              onClick={() => {\n                setUserTerm(user.username)\n                setAuthorQuery(user.username)\n                setUsersSuggestionOpen(false)\n              }}\n              className='user-data'\n            >\n              <div className='user-row flex flex-space-between flex-align-center'>\n                <img\n                  className='avatar'\n                  src={\n                    user?.profilePicture?.url ??\n                    `https://avatars.dicebear.com/api/jdenticon/${user.username}.svg`\n                  }\n                  alt='Default User Avatar'\n                ></img>\n                <span>{user.username}</span>\n              </div>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>No users found</p>\n      )}\n    </div>\n  )\n}\n\nexport default UsersSuggestionDropdown\n","import React, { useState, useRef } from 'react'\nimport Button from '../components/Button'\nimport Dropdown from '../components/Dropdown'\nimport UsersSuggestionDropdown from '../components/UsersSuggestionDropdown'\nimport { EOS_CLOSE, EOS_SEARCH } from 'eos-icons-react'\n\nfunction SearchInput(props) {\n  const {\n    searchTerm,\n    setSearchTerm,\n    userTerm,\n    setUserTerm,\n    setSearchQuery,\n    setAuthorQuery\n  } = props\n\n  const fieldToSearchDropdownContainer = useRef()\n\n  const [fieldToSearch, setFieldToSearch] = useState('Title')\n\n  const [usersSuggestionOpen, setUsersSuggestionOpen] = useState(false)\n\n  const handleSearchSubmit = () => {\n    if (fieldToSearch === 'Title' && searchTerm.length > 0) {\n      setSearchQuery(`Title_contains: \"${searchTerm}\"`)\n    } else if (userTerm.length > 0) {\n      setAuthorQuery(userTerm)\n      setUsersSuggestionOpen(false)\n    }\n  }\n\n  return (\n    <div className='flex flex-row search-controls'>\n      <div className='flex flex-row search-input' data-cy='search-input-div'>\n        {\n          <UsersSuggestionDropdown\n            isOpen={usersSuggestionOpen}\n            userTerm={userTerm}\n            setUserTerm={setUserTerm}\n            setAuthorQuery={setAuthorQuery}\n            setUsersSuggestionOpen={setUsersSuggestionOpen}\n          />\n        }\n        <input\n          type='text'\n          name='search'\n          placeholder='Search'\n          autoComplete='off'\n          data-cy='search-input'\n          value={fieldToSearch === 'Title' ? searchTerm : userTerm}\n          onChange={(event) => {\n            if (fieldToSearch === 'Title') {\n              setSearchTerm(event.target.value)\n            } else {\n              setUserTerm(event.target.value)\n              setUsersSuggestionOpen(true)\n            }\n          }}\n          onKeyDown={(event) => {\n            if (event.key === 'Enter') {\n              handleSearchSubmit()\n            }\n          }}\n          onFocus={() => {\n            if (fieldToSearch === 'Author' && userTerm.length > 0) {\n              setUsersSuggestionOpen(true)\n            }\n          }}\n        />\n        <div className='close-btn-div'>\n          <span\n            className='close-btn'\n            data-cy='btn-clear'\n            onClick={() => {\n              if (fieldToSearch === 'Title' && searchTerm.length > 0) {\n                setSearchTerm('')\n              } else if (userTerm.length > 0) {\n                setUserTerm('')\n              }\n            }}\n          >\n            {((fieldToSearch === 'Title' && searchTerm.length > 0) ||\n              (fieldToSearch === 'Author' && userTerm.length > 0)) && (\n              <EOS_CLOSE className='eos-icons' />\n            )}\n          </span>\n        </div>\n        <Dropdown\n          title=''\n          reference={fieldToSearchDropdownContainer}\n          curr={fieldToSearch}\n          setCurr={setFieldToSearch}\n          itemList={['Title', 'Author']}\n          data-cy='toggle-title-dropdown'\n        />\n      </div>\n      <Button\n        type='submit'\n        className='btn btn-default btn-search'\n        data-cy='btn-search'\n        onClick={handleSearchSubmit}\n      >\n        <EOS_SEARCH className='eos-icons' color='white' />\n      </Button>\n    </div>\n  )\n}\n\nexport default SearchInput\n","import React from 'react'\nimport {\n  EOS_SCHEDULE,\n  EOS_CHECK_CIRCLE,\n  EOS_MODE_EDIT,\n  EOS_CODE,\n  EOS_PATCH_FIXES,\n  EOS_DEPLOY\n} from 'eos-icons-react'\n\nconst Lists = {\n  stateList: [\n    {\n      icon: <EOS_SCHEDULE className='eos-icons' />,\n      status: 'Under consideration'\n    },\n    {\n      icon: <EOS_CHECK_CIRCLE className='eos-icons' />,\n      status: 'Planned'\n    },\n    {\n      icon: <EOS_MODE_EDIT className='eos-icons' />,\n      status: 'Designing'\n    },\n    {\n      icon: <EOS_CODE className='eos-icons' />,\n      status: 'Implementing'\n    },\n    {\n      icon: <EOS_PATCH_FIXES className='eos-icons' />,\n      status: 'Testing'\n    },\n    {\n      icon: <EOS_DEPLOY className='eos-icons' />,\n      status: 'Deployed'\n    }\n  ],\n  sortByList: ['Most Voted', 'Most Discussed']\n}\n\nexport default Lists\n","import React, { useState, useEffect } from 'react'\nimport Skeleton from 'react-loading-skeleton'\nimport userStory from '../services/user_story'\n\nconst ProductSkeleton = () => {\n  return (\n    <div className='flex flex-row flex-center product-card'>\n      <div className='product-logo'>\n        <Skeleton height={80} />\n      </div>\n      <div className='circle-container'>\n        <div className='circle'></div>\n      </div>\n    </div>\n  )\n}\n\nconst ProductCard = ({ product, selected, setProduct }) => {\n  return (\n    <div\n      className={`flex flex-center flex-align-center product-card ${\n        selected ? 'product-card-selected' : ''\n      }`}\n      data-cy={`${product.Name.split(' ').join('-')}-card`}\n      onClick={() => {\n        if (!selected) {\n          setProduct(product.Name)\n        } else {\n          setProduct('All')\n        }\n      }}\n    >\n      <div className='product-logo'>\n        <img src={product.logo?.url} alt={`${product.Name} logo`} />\n      </div>\n      <div className='circle-container'>\n        <div className='circle'></div>\n      </div>\n    </div>\n  )\n}\n\nconst ProductList = ({ setProductQuery }) => {\n  const [productCount, setProductCount] = useState(3)\n\n  const [product, setProduct] = useState('All')\n\n  const [products, setProducts] = useState(null)\n\n  useEffect(() => {\n    const fetchProductCount = async () => {\n      const response = await userStory.getProductCount()\n      setProductCount(response.data.data.productsConnection.aggregate.count)\n    }\n    const fetchProducts = async () => {\n      const response = await userStory.getProducts()\n      return response.data.data.product !== null\n        ? setProducts([...response.data.data.products])\n        : setProducts([])\n    }\n    fetchProductCount()\n    fetchProducts()\n  }, [])\n\n  useEffect(() => {\n    if (product !== 'All') {\n      setProductQuery(`product : {Name: \"${product}\"}`)\n    } else {\n      setProductQuery(``)\n    }\n  }, [product, setProductQuery])\n\n  return (\n    <div className='product-list-container'>\n      <h4>Select a Product</h4>\n      <div className='flex flex-row flex-center product-list'>\n        {!products &&\n          Array(productCount)\n            .fill()\n            .map((_, index) => <ProductSkeleton key={index} />)}\n        {products !== null &&\n          products.map((p) => (\n            <ProductCard\n              key={p.Name}\n              product={p}\n              selected={p.Name === product}\n              setProduct={setProduct}\n            />\n          ))}\n      </div>\n    </div>\n  )\n}\n\nexport default ProductList\n","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\n\nimport Button from './Button'\nimport StoriesList from './StoriesList'\nimport Pagination from './Pagination'\nimport Dropdown from './Dropdown'\nimport SearchInput from '../modules/SearchInput'\n\nimport Lists from '../utils/Lists'\nimport userStory from '../services/user_story'\nimport ProductList from './ProductList'\n\nconst Stories = ({ authorId, followerId }) => {\n  const [currentStateSelected, selectState] = useState('Under consideration')\n\n  const [page, setPage] = useState(1)\n\n  const statusOptions = []\n\n  const [status, setStatus] = useState('Under consideration')\n\n  const [sort, setSort] = useState('Most Voted')\n\n  const [category, setCategory] = useState('All')\n\n  const [categories, setCategories] = useState([])\n\n  const [searchTerm, setSearchTerm] = useState('')\n\n  const { promiseInProgress } = usePromiseTracker({ area: 'stories-div' })\n\n  const [storyCount, setStoryCount] = useState()\n\n  const [stories, setStories] = useState([])\n\n  const statusDropdownContainer = useRef()\n\n  const sortDropdownContainer = useRef()\n\n  const categoryDropdownContainer = useRef()\n\n  const [productQuery, setProductQuery] = useState(``)\n\n  const [categoryQuery, setCategoryQuery] = useState(``)\n\n  const [searchQuery, setSearchQuery] = useState('')\n\n  const [userTerm, setUserTerm] = useState('')\n\n  const [authorQuery, setAuthorQuery] = useState('')\n\n  const getPage = useCallback((page) => {\n    setPage(page)\n  }, [])\n\n  useEffect(() => {\n    for (let i = 0; i < Lists.stateList.length; i++) {\n      statusOptions.push(Lists.stateList[i].status)\n    }\n  }, [statusOptions])\n\n  useEffect(() => {\n    const fetchStoryCount = async () => {\n      const response = await userStory.getStoryCount(\n        currentStateSelected,\n        authorId,\n        authorQuery,\n        categoryQuery,\n        productQuery,\n        searchQuery,\n        followerId\n      )\n      setStoryCount(response.data.data.userStoriesConnection.aggregate.count)\n    }\n    fetchStoryCount()\n  }, [\n    currentStateSelected,\n    categoryQuery,\n    productQuery,\n    searchQuery,\n    authorQuery,\n    authorId,\n    followerId\n  ])\n\n  useEffect(() => {\n    if (category !== 'All') {\n      setCategoryQuery(`Category : \"${category}\"`)\n    } else {\n      setCategoryQuery(``)\n    }\n    if (searchTerm === '') {\n      setSearchQuery('')\n    }\n    if (userTerm === '') {\n      setAuthorQuery('')\n    }\n  }, [category, searchTerm, userTerm])\n\n  useEffect(() => {\n    const fetchStories = async () => {\n      const response = await userStory.getStories(\n        page,\n        currentStateSelected,\n        authorId,\n        authorQuery,\n        categoryQuery,\n        productQuery,\n        searchQuery,\n        followerId\n      )\n      setStories(response.data.data.userStories)\n    }\n    trackPromise(fetchStories(), 'stories-div')\n  }, [\n    categoryQuery,\n    currentStateSelected,\n    page,\n    productQuery,\n    searchQuery,\n    authorQuery,\n    authorId,\n    followerId\n  ])\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      const response = await userStory.getCategories()\n      setCategories([\n        'All',\n        ...response.data.data.__type.enumValues.map((ele) => {\n          return ele.name\n        })\n      ])\n    }\n    fetchCategories()\n  }, [])\n\n  useEffect(() => {\n    const comparatorVotes = (a, b) => {\n      return a.followers.length > b.followers.length ? -1 : 1\n    }\n    const comparatorComments = (a, b) => {\n      return a.user_story_comments.length > b.user_story_comments.length\n        ? -1\n        : 1\n    }\n\n    const updateStories = async () => {\n      if (sort === 'Most Voted') {\n        setStories(stories.sort(comparatorVotes))\n      }\n      if (sort === 'Most Discussed') {\n        setStories(stories.sort(comparatorComments))\n      }\n    }\n    trackPromise(updateStories(), 'stories-div')\n  }, [sort, stories, setStories])\n\n  return (\n    <div>\n      <ProductList setProductQuery={setProductQuery} />\n      <div className='roadmap-container'>\n        <div className='roadmap'>\n          {Lists.stateList &&\n            Lists.stateList.map((state, key) => {\n              return (\n                <Button\n                  className={\n                    currentStateSelected === state.status\n                      ? 'btn btn-tabs btn-tabs-selected'\n                      : 'btn btn-tabs'\n                  }\n                  key={key}\n                  onClick={() => {\n                    selectState(state.status)\n                    setPage(1)\n                  }}\n                >\n                  {state.icon}\n                  {state.status}\n                </Button>\n              )\n            })}\n        </div>\n      </div>\n\n      <div className='roadmap-dropdown'>\n        <Dropdown\n          title='Status'\n          reference={statusDropdownContainer}\n          curr={status}\n          setCurr={setStatus}\n          itemList={statusOptions}\n          data-cy='status-dropdown'\n          selectstate={selectState}\n          setpage={setPage}\n        />\n      </div>\n\n      <div className='flex flex-row search-bar'>\n        <SearchInput\n          searchTerm={searchTerm}\n          setSearchTerm={setSearchTerm}\n          userTerm={userTerm}\n          setUserTerm={setUserTerm}\n          setSearchQuery={setSearchQuery}\n          setAuthorQuery={setAuthorQuery}\n        />\n        <div className='flex flex-row options-bar'>\n          <Dropdown\n            title='Categories'\n            reference={categoryDropdownContainer}\n            curr={category}\n            setCurr={setCategory}\n            itemList={categories}\n            data-cy='category-dropdown'\n          />\n          <Dropdown\n            title='Sort By'\n            reference={sortDropdownContainer}\n            curr={sort}\n            setCurr={setSort}\n            itemList={Lists.sortByList}\n          />\n        </div>\n      </div>\n      <div className='stories-div'>\n        <StoriesList stories={stories} isLoading={promiseInProgress} />\n      </div>\n      <Pagination\n        getPage={getPage}\n        storyCount={storyCount}\n        status={currentStateSelected}\n        productQuery={productQuery}\n      />\n    </div>\n  )\n}\n\nexport default Stories\n","import { createContext } from 'react'\n\nconst Context = createContext()\n\nexport default Context\n","import axios from 'axios'\nimport { apiURL } from '../config.json'\nimport Context from '../modules/Context'\nimport { useContext } from 'react'\n\nconst useAuth = () => {\n  const { dispatch } = useContext(Context)\n\n  const registerUser = async (credentials) => {\n    const { data: payload } = await axios\n      .post(`${apiURL}/auth/local/register`, credentials, {\n        withCredentials: true\n      })\n      .catch((err) => {\n        if (err.message === 'Network Error')\n          dispatch({\n            type: 'ERROR',\n            payload: err.message\n          })\n        else\n          dispatch({\n            type: 'ERROR',\n            payload: err.response.data.message[0].messages[0].message\n          })\n      })\n    return payload\n  }\n\n  const login = async (credentials) => {\n    const { data: payload } = await axios\n      .post(`${apiURL}/auth/local`, credentials, { withCredentials: true })\n      .catch((err) => {\n        if (err.message === 'Network Error')\n          dispatch({\n            type: 'ERROR',\n            payload: err.message\n          })\n        else\n          dispatch({\n            type: 'ERROR',\n            payload: err.response.data.message[0].messages[0].message\n          })\n      })\n    return payload\n  }\n\n  const logout = async () => {\n    await axios\n      .post(`${apiURL}/logout`, {}, { withCredentials: true })\n      .catch((err) => {\n        if (err.message === 'Network Error')\n          dispatch({\n            type: 'ERROR',\n            payload: err.message\n          })\n        else\n          dispatch({\n            type: 'ERROR',\n            payload: err.response.data.message[0].messages[0].message\n          })\n      })\n    localStorage.clear()\n  }\n\n  const forgotPassword = async (credentials) => {\n    const reply = await axios\n      .post(`${apiURL}/auth/forgot-password`, credentials)\n      .catch((err) => {\n        if (err.message === 'Network Error')\n          dispatch({\n            type: 'ERROR',\n            payload: err.message\n          })\n        else\n          dispatch({\n            type: 'ERROR',\n            payload: err.response.data.message[0].messages[0].message\n          })\n      })\n    return reply\n  }\n\n  const resetPassword = async (credentials) => {\n    const reply = await axios\n      .post(`${apiURL}/auth/reset-password`, credentials)\n      .catch((err) => {\n        if (err.message === 'Network Error')\n          dispatch({\n            type: 'ERROR',\n            payload: err.message\n          })\n        else\n          dispatch({\n            type: 'ERROR',\n            payload: err.response.data.message[0].messages[0].message\n          })\n      })\n    return reply\n  }\n\n  const changePassword = async (credentials) => {\n    if (credentials.password !== credentials.passwordConfirmation) {\n      dispatch({\n        type: 'ERROR',\n        payload: 'The new password and confirm passwords do not match.'\n      })\n      return null\n    }\n    const data = await axios\n      .post(`${apiURL}/auth/change-password`, credentials, {\n        withCredentials: true\n      })\n      .catch((err) => {\n        if (err.message === 'Network Error')\n          dispatch({\n            type: 'ERROR',\n            payload: err.message\n          })\n        else\n          dispatch({\n            type: 'ERROR',\n            payload: err.response.data?.message?.[0]?.messages?.[0]?.message\n          })\n      })\n    return data\n  }\n\n  return {\n    registerUser,\n    login,\n    logout,\n    forgotPassword,\n    resetPassword,\n    changePassword\n  }\n}\n\nexport default useAuth\n","import React, { useState, useEffect, useContext, useRef } from 'react'\nimport { Link, navigate } from '@reach/router'\nimport Context from '../modules/Context'\nimport userStory from '../services/user_story'\nimport { EOS_NOTIFICATIONS } from 'eos-icons-react'\n\nconst Notifications = () => {\n  const userId = localStorage.getItem('id')\n\n  const { state } = useContext(Context)\n\n  const [notifications, setNotifications] = useState([])\n\n  const [notificationsDropdownState, setNotificationsDropdownState] = useState(\n    false\n  )\n\n  const [notificationCount, setNotificationCount] = useState(0)\n\n  const [notificationsSeen, setNotificationsSeen] = useState(false)\n\n  const notificationsDropdownContainer = useRef()\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (\n        notificationsDropdownContainer.current &&\n        !notificationsDropdownContainer.current.contains(event.target)\n      ) {\n        setNotificationsDropdownState(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [notificationsDropdownContainer])\n\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      const response = await userStory.getNotificationsByUserId(userId)\n      let unseenNotifications = []\n      if (response.data.data.userStoryNotifications) {\n        unseenNotifications = response.data.data.userStoryNotifications\n        unseenNotifications = unseenNotifications.filter((notification) => {\n          const seenBy = notification.seenBy.map((seen) => seen.id)\n          return !seenBy.includes(userId)\n        })\n      }\n      setNotifications(unseenNotifications)\n      setNotificationCount(unseenNotifications.length)\n    }\n    if (userId) {\n      fetchNotifications()\n    }\n  }, [userId, notificationsSeen])\n\n  const markNotificationAsRead = async (notification) => {\n    const seenBy = notification.seenBy.map((seen) => seen.id)\n    if (!seenBy.includes(userId)) {\n      seenBy.push(userId)\n      await userStory.markNotificationAsRead(notification.id, seenBy)\n    }\n  }\n\n  const markAllNotificationsAsRead = () => {\n    if (notifications) {\n      notifications.forEach(async (notification) => {\n        await markNotificationAsRead(notification)\n        setNotifications([])\n        setNotificationCount(0)\n        setNotificationsSeen(false)\n      })\n    }\n  }\n\n  const onNotificationClick = async (notification) => {\n    await markNotificationAsRead(notification)\n    navigate(`/${notification.link}`)\n  }\n\n  return (\n    state.auth && (\n      <div\n        className='dropdown-container'\n        onClick={() => {\n          setNotificationsDropdownState(!notificationsDropdownState)\n          setNotificationsSeen(true)\n        }}\n        ref={notificationsDropdownContainer}\n      >\n        <EOS_NOTIFICATIONS\n          className={`eos-icons ${\n            notificationsDropdownState ? 'eos-icons-open' : ''\n          }`}\n        />\n        <span className='notifications-count'>\n          {' '}\n          {!notificationsSeen && notificationCount > 0 ? notificationCount : ''}\n        </span>\n        <div\n          className={`dropdown notifications-dropdown ${\n            notificationsDropdownState\n              ? 'dropdown-open dropdown-left'\n              : 'dropdown-close dropdown-left'\n          }`}\n        >\n          <ul className='dropdown-list'>\n            {notifications\n              ? notifications.map((notification, key) => (\n                  <li\n                    className='dropdown-element'\n                    onClick={() => onNotificationClick(notification)}\n                    key={key}\n                  >\n                    {notification.message}\n                    <hr className='dropdown-separator' />\n                  </li>\n                ))\n              : ''}\n          </ul>\n          <div className='flex flex-row flex-space-between notifications-options'>\n            {notifications && notifications.length > 0 ? (\n              <>\n                <Link\n                  className='link link-default'\n                  to='#'\n                  onClick={markAllNotificationsAsRead}\n                >\n                  Mark all as read\n                </Link>\n              </>\n            ) : (\n              'No new notifications at the moment'\n            )}\n            <>\n              <Link className='link link-default' to='/notifications'>\n                View all\n              </Link>\n            </>\n          </div>\n        </div>\n      </div>\n    )\n  )\n}\n\nexport default Notifications\n","import React, { useState, useEffect, useRef, useContext } from 'react'\nimport { Link, navigate } from '@reach/router'\nimport {\n  EOS_ACCOUNT_CIRCLE,\n  EOS_MESSAGE,\n  EOS_SETTINGS,\n  EOS_EXIT_TO_APP\n} from 'eos-icons-react'\n\nimport eosIcon from '../assets/images/user-story-logo.svg'\nimport useAuth from '../hooks/useAuth'\nimport Context from '../modules/Context'\nimport Notifications from './Notifications'\n\nconst Navigation = (props) => {\n  const { logout } = useAuth()\n\n  const userName = localStorage.getItem('username')\n  const userEmail = localStorage.getItem('email')\n\n  const { state, dispatch } = useContext(Context)\n\n  const [userDropdownState, setUserDropdownState] = useState(false)\n\n  const userDropdownContainer = useRef()\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (\n        userDropdownContainer.current &&\n        !userDropdownContainer.current.contains(event.target)\n      ) {\n        setUserDropdownState(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [userDropdownContainer])\n\n  const handleLogout = async () => {\n    await logout()\n    dispatch({\n      type: 'DEAUTHENTICATE'\n    })\n    navigate('/')\n  }\n\n  return (\n    <header className='nav-header'>\n      <Link className='link' data-cy='nav-eos-logo' to='/'>\n        <img className='logo' src={eosIcon} alt='' />\n      </Link>\n      <nav className='navbar-content flex flex-row'>\n        {state.auth && (\n          <Link\n            className='btn btn-default'\n            data-cy='btn-new-story'\n            to='/newStory'\n          >\n            + New Story\n          </Link>\n        )}\n        {!state.auth && (\n          <Link className='btn btn-default' data-cy='btn-signin' to='/login'>\n            Sign In\n          </Link>\n        )}\n        <Notifications />\n        {state.auth && (\n          <div\n            className='dropdown-container'\n            onClick={() => {\n              setUserDropdownState(!userDropdownState)\n            }}\n            ref={userDropdownContainer}\n          >\n            <EOS_ACCOUNT_CIRCLE\n              className={`eos-icons ${\n                userDropdownState ? 'eos-icons-open' : ''\n              }`}\n            />\n            <div\n              className={`dropdown nav-dropdown ${\n                userDropdownState\n                  ? 'dropdown-open dropdown-left'\n                  : 'dropdown-close dropdown-left'\n              }`}\n            >\n              <ul className='dropdown-list nav-dropdown-list'>\n                <li className='user-dropdown user-dropdown-name'>{userName}</li>\n                <li className='user-dropdown user-dropdown-email'>\n                  {userEmail}\n                </li>\n                <hr className='dropdown-separator' />\n                <li\n                  className='dropdown-element'\n                  onClick={() => navigate('/myStories')}\n                >\n                  <EOS_MESSAGE className='eos-icons eos-18' />\n                  My Stories\n                </li>\n                <li\n                  className='dropdown-element'\n                  onClick={() => navigate('/myProfile')}\n                >\n                  <EOS_SETTINGS className='eos-icons eos-18' />\n                  My Account\n                </li>\n                <hr className='dropdown-separator' />\n                <li className='dropdown-element' onClick={handleLogout}>\n                  <EOS_EXIT_TO_APP className='eos-icons eos-18' />\n                  Log Out\n                </li>\n              </ul>\n            </div>\n          </div>\n        )}\n      </nav>\n    </header>\n  )\n}\n\nexport default Navigation\n","import React, { useState, useEffect, useContext } from 'react'\nimport { Link } from '@reach/router'\nimport { Helmet } from 'react-helmet'\n\nimport Stories from '../components/Stories'\nimport Navigation from '../components/Navigation'\nimport Modal from '../components/Modal'\n\nimport useAuth from '../hooks/useAuth'\nimport Context from '../modules/Context'\nimport userStory from '../services/user_story'\n\nconst Home = () => {\n  const { logout } = useAuth()\n\n  const userId = localStorage.getItem('id')\n\n  const { dispatch } = useContext(Context)\n\n  const [modal, setModal] = useState(false)\n\n  const [policyUpdate, setPolicyUpdate] = useState()\n\n  useEffect(() => {\n    const fetchPolicyNotifications = async () => {\n      const response = await userStory.getPolicyNotifications()\n      if (response.data.data.userStoryNotifications) {\n        const seenBy = response.data.data.userStoryNotifications[0]?.seenBy.map(\n          (seen) => seen.id\n        )\n        if (\n          response.data.data.userStoryNotifications.length &&\n          !seenBy.includes(userId)\n        ) {\n          setModal(true)\n          setPolicyUpdate(response.data.data.userStoryNotifications[0])\n        }\n      }\n    }\n    if (userId) {\n      fetchPolicyNotifications()\n    }\n  }, [userId])\n\n  const acceptUpdatedPolicy = async () => {\n    const seenBy = policyUpdate.seenBy.map((seen) => seen.id)\n    seenBy.push(userId)\n    await userStory.markNotificationAsRead(policyUpdate.id, seenBy)\n    setModal(false)\n  }\n\n  const handlePolicyUpdateReject = async () => {\n    if (userId) {\n      await logout()\n      dispatch({\n        type: 'DEAUTHENTICATE'\n      })\n    }\n    setModal(false)\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Home | EOS User story</title>\n        <meta\n          name='description'\n          content=\"Share with us how you use our products, relate to other users stories, vote them up, and we'll make sure we deliver cohesive solutions that enhance your experience.\"\n        />\n        <meta\n          name='keywords'\n          content='feature request, open roadmap, user voice, feature request tracking, issue tracker open source '\n        />\n      </Helmet>\n\n      <Navigation />\n      <div className='body-content'>\n        <div className='body-wrapper'>\n          <div className='product-introduction'>\n            <div>\n              <h1>TELL US YOUR STORY</h1>\n              <h2 className='subheader'>\n                Share with us how you use our products, relate to other users'\n                stories, vote them up, and we'll make sure we deliver cohesive\n                solutions that enhance your experience.\n              </h2>\n            </div>\n            <div className='img-wrap'>\n              <img\n                className='profile-picture'\n                src={require(`../assets/images/user-story-graphic.svg`)}\n                alt='profile pic'\n              />\n            </div>\n          </div>\n          <Stories />\n        </div>\n      </div>\n      {modal && policyUpdate ? (\n        <Modal\n          showButtons={true}\n          onCancel={handlePolicyUpdateReject}\n          isActive={modal}\n          show={() => setModal(false)}\n          onOk={acceptUpdatedPolicy}\n        >\n          {\n            <>\n              {policyUpdate.message}\n              <Link className='link link-default' to={`/${policyUpdate.link}`}>\n                View privacy policy\n              </Link>\n            </>\n          }\n        </Modal>\n      ) : (\n        ''\n      )}\n    </>\n  )\n}\n\nexport default Home\n","import React from 'react'\nimport { EOS_ERROR } from 'eos-icons-react'\n\nexport const FormError = (props) => {\n  const { type, status, message } = props\n\n  return (\n    <div>\n      {status ? (\n        <div className='form-error alert alert-section alert-danger'>\n          <EOS_ERROR className='alert-icon eos-icons' color='red' />\n          <div class='alert-body'>\n            {status !== null && status}\n            {message !== null && message}\n          </div>\n        </div>\n      ) : (\n        <div className='form-error'>\n          <EOS_ERROR className='eos-icons' color='red' />\n          {type === 'required' && 'This is required'}\n          {type === 'validate' && 'Passwords do not match'}\n          {type === 'emptyDescription' && 'Description cannot be empty'}\n          {message !== null && message}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default FormError\n","import React, { useState, useEffect, useRef } from 'react'\nimport Button from './Button'\nimport { EOS_KEYBOARD_ARROW_UP, EOS_KEYBOARD_ARROW_DOWN } from 'eos-icons-react'\n\nconst LanguageDropdown = (props) => {\n  const { translator } = props\n  const container = useRef()\n\n  const [dropdownState, setDropdownState] = useState(false)\n  const handleButtonClick = (event) => {\n    setDropdownState(!dropdownState)\n  }\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (container.current && !container.current.contains(event.target)) {\n        setDropdownState(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [container])\n\n  return (\n    <div className='dropdown-container' ref={container}>\n      <Button\n        type='button'\n        className='btn btn-secondary flex flex-row'\n        onClick={handleButtonClick}\n      >\n        {dropdownState ? (\n          <EOS_KEYBOARD_ARROW_UP className='eos-icons' />\n        ) : (\n          <EOS_KEYBOARD_ARROW_DOWN className='eos-icons' />\n        )}\n        &nbsp; <div className='curr'> Language </div>\n      </Button>\n      {dropdownState ? (\n        <div className='dropdown'>\n          <ul className='dropdown-list'>\n            <li\n              className='dropdown-element'\n              onClick={() => {\n                translator.changeLanguage('en')\n                setDropdownState(false)\n              }}\n            >\n              English\n            </li>\n            <li\n              className='dropdown-element'\n              onClick={() => {\n                translator.changeLanguage('es')\n                setDropdownState(false)\n              }}\n            >\n              Spanish\n            </li>\n          </ul>\n        </div>\n      ) : (\n        ''\n      )}\n    </div>\n  )\n}\n\nexport default LanguageDropdown\n","import React from 'react'\n\nexport const SocialMediaLinks = () => {\n  return (\n    <div className='social-media'>\n      <a\n        target='_blank'\n        rel='noopener noreferrer'\n        href='https://twitter.com/eosdesignsystem?lang=en'\n      >\n        <svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'>\n          <g data-name='Group 60'>\n            <g data-name='Group 62'>\n              <g data-name='Rectangle 278'>\n                <path data-name='Rectangle 1959' d='M0 0h24v24H0z' />\n              </g>\n              <g data-name='Path 18'>\n                <path\n                  data-name='Path 628'\n                  d='M20.032 6.899a7.368 7.368 0 01-1.887.521 3.1 3.1 0 001.431-1.822 6.77 6.77 0 01-2.082.813A3.291 3.291 0 0011.8 8.656a2.742 2.742 0 00.1.748 9.284 9.284 0 01-6.8-3.448 3.584 3.584 0 00-.423 1.659 3.286 3.286 0 001.464 2.733 3.319 3.319 0 01-1.5-.423v.033a3.283 3.283 0 002.639 3.221 3.008 3.008 0 01-1.5.065 3.3 3.3 0 003.059 2.278 6.642 6.642 0 01-4.1 1.4 6.364 6.364 0 01-.781-.033 9.184 9.184 0 005.076 1.5 9.306 9.306 0 009.371-9.24v-.558a6.727 6.727 0 001.627-1.692z'\n                  fill='#fff'\n                />\n              </g>\n            </g>\n          </g>\n        </svg>\n      </a>\n      <a\n        target='_blank'\n        rel='noopener noreferrer'\n        href='https://www.linkedin.com/company/eosdesignsystem/'\n      >\n        <svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'>\n          <g data-name='Group 61'>\n            <g data-name='Group 63'>\n              <g data-name='Rectangle 280'>\n                <path data-name='Rectangle 1961' d='M0 0h24v24H0z' />\n              </g>\n              <g data-name='iconfinder 201-LinkedIn 192159'>\n                <g data-name='Path 19'>\n                  <path\n                    data-name='Path 630'\n                    d='M16.802 19.604v-6.058a1.8 1.8 0 00-1.747-1.621 1.9 1.9 0 00-1.854 1.541v6.138h-3.23l.053-10.007h3.124l-.025 1.262a3.139 3.139 0 013.106-1.644c2.453 0 3.565 1.41 3.772 4.047v6.347zM6.011 8.175a1.788 1.788 0 11.438 0 1.789 1.789 0 01-.438 0zm1.993 11.441H4.032V9.622l3.97-.025z'\n                    fill='#fff'\n                  />\n                </g>\n              </g>\n            </g>\n          </g>\n        </svg>\n      </a>\n    </div>\n  )\n}\n\nexport default SocialMediaLinks\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport LanguageDropdown from './LanguageDropdown'\nimport eosIcon from '../assets/images/user-story-logo.svg'\nimport SocialMediaLinks from '../components/SocialMediaLinks'\nimport { EOS_COPYRIGHT } from 'eos-icons-react'\nexport const AuthWrapper = ({ children }) => {\n  return (\n    <div className='authentication-wrapper'>\n      <div className='authentication'>{children}</div>\n    </div>\n  )\n}\n\nexport const AuthLeftContainer = () => {\n  const { t } = useTranslation()\n\n  return (\n    <div className='container-left'>\n      <div className='container-left-content'>\n        <div className='header header-uppercase'>\n          {t('authentication:header-left')}\n        </div>\n        <p>{t('authentication:user-stories-description')}</p>\n        <div className='footer'>\n          <p>\n            {t('authentication:footer-left')} -{' '}\n            <a className='link link-default' href='/policies'>\n              Learn More\n            </a>\n          </p>\n        </div>\n        <SocialMediaLinks />\n      </div>\n    </div>\n  )\n}\n\nexport const AuthRightContainer = ({ children, logo }) => {\n  const { t, i18n } = useTranslation()\n\n  return (\n    <div className='container-right'>\n      <div className='flex flex-row flex-space-between'>\n        <div className='image image-logo eos-logo-resize'>\n          <img src={logo ?? eosIcon} alt='EOS Logo' />\n        </div>\n        <LanguageDropdown translator={i18n} />\n      </div>\n      {children}\n      <div className='footer'>\n        <span>\n          <EOS_COPYRIGHT className='eos-icons' />\n          <span> {t('authentication:footer-right')} </span>\n        </span>\n        <a className='link link-default' href='/policies'>\n          {' '}\n          Cookies and Privacy policy\n        </a>\n      </div>\n\n      <div className='cookies-mobile'>\n        <p>\n          {t('authentication:footer-left')} -{' '}\n          <a className='link link-default' href='/policies'>\n            Learn More\n          </a>\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default AuthWrapper\n","import React, { useState, useContext } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { EOS_VISIBILITY, EOS_VISIBILITY_OFF } from 'eos-icons-react'\n\nimport { Link, navigate } from '@reach/router'\nimport { useTranslation } from 'react-i18next'\nimport useAuth from '../hooks/useAuth'\nimport { Helmet } from 'react-helmet'\n\nimport Button from '../components/Button'\nimport FormError from '../components/FormError'\nimport Context from '../modules/Context'\nimport AuthWrapper, {\n  AuthLeftContainer,\n  AuthRightContainer\n} from '../components/AuthWrapper'\n\nexport const Login = (props) => {\n  const { message } = props\n\n  const { t } = useTranslation()\n\n  const { login } = useAuth()\n\n  const { register, handleSubmit, errors } = useForm()\n\n  const [showPassword, toggleShowPassword] = useState(false)\n\n  const { state, dispatch } = useContext(Context)\n\n  const onSubmit = async (data) => {\n    try {\n      const payload = await login({\n        identifier: data.identifier,\n        password: data.password\n      })\n      localStorage.setItem('id', payload.user.id)\n      localStorage.setItem('username', payload.user.username)\n      localStorage.setItem('email', payload.user.email)\n      dispatch({\n        type: 'AUTHENTICATE'\n      })\n      navigate('/', { replace: true })\n    } catch (e) {}\n  }\n\n  if (state.auth) {\n    navigate('/', { replace: true })\n    return null\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Login | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <AuthWrapper>\n        <AuthLeftContainer />\n        <AuthRightContainer>\n          <div>\n            <form className='form-default' onSubmit={handleSubmit(onSubmit)}>\n              <div className='header'>{t('authentication:title-sign-in')}</div>\n              {message && <FormError message={message} />}\n              {state.errorCode && <FormError status={state.errorCode} />}\n              <div className='form-element'>\n                <label htmlFor='identifer'>\n                  {t('authentication:username-label')}\n                </label>\n                <input\n                  className='input-default'\n                  type='text'\n                  name='identifier'\n                  ref={register({ required: true })}\n                />\n                {errors.identifier && (\n                  <FormError type={errors.identifier.type} />\n                )}\n              </div>\n\n              <div className='form-element'>\n                <label htmlFor='password'>\n                  {t('authentication:password-label')}\n                </label>\n                <div className='input-group'>\n                  <input\n                    className='input-default'\n                    type={showPassword ? 'text' : 'password'}\n                    name='password'\n                    ref={register({ required: true })}\n                  ></input>\n\n                  <div\n                    className='input-group-append'\n                    onClick={() => toggleShowPassword(!showPassword)}\n                  >\n                    {showPassword ? (\n                      <EOS_VISIBILITY_OFF className='eos-icons eos-18' />\n                    ) : (\n                      <EOS_VISIBILITY className='eos-icons eos-18' />\n                    )}\n                  </div>\n                </div>\n                {errors.password && <FormError type={errors.password.type} />}\n              </div>\n\n              <Button type='submit' className='btn btn-default'>\n                {t('authentication:login-label')}\n              </Button>\n            </form>\n            <div className='flex flex-row flex-space-between margin-top-l'>\n              <Link className='link link-default' to='/forgotPassword'>\n                {t('authentication:forgot-password')}\n              </Link>\n              <Link\n                className='link link-default'\n                data-cy='link-create-account'\n                to='/register'\n              >\n                {t('authentication:create-account')}\n              </Link>\n            </div>\n          </div>\n        </AuthRightContainer>\n      </AuthWrapper>\n    </>\n  )\n}\n\nexport default Login\n","import React, { useContext } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { Helmet } from 'react-helmet'\n\nimport { Link, navigate } from '@reach/router'\nimport Button from '../components/Button'\nimport useAuth from '../hooks/useAuth'\nimport Context from '../modules/Context'\n\nimport FormError from '../components/FormError'\nimport { useTranslation } from 'react-i18next'\nimport AuthWrapper, {\n  AuthLeftContainer,\n  AuthRightContainer\n} from '../components/AuthWrapper'\n\nexport const Register = () => {\n  const { registerUser } = useAuth()\n\n  const { state, dispatch } = useContext(Context)\n\n  const { register, handleSubmit, errors } = useForm()\n\n  const { t } = useTranslation()\n\n  const onSubmit = async (data) => {\n    try {\n      const payload = await registerUser({\n        username: data.username,\n        email: data.email,\n        password: data.password\n      })\n      localStorage.setItem('status', payload.status)\n      localStorage.setItem('id', payload.user.id)\n      localStorage.setItem('username', payload.user.username)\n      localStorage.setItem('email', payload.user.email)\n      dispatch({\n        type: 'AUTHENTICATE'\n      })\n      navigate('/', { replace: true })\n    } catch (e) {}\n  }\n\n  if (state.auth) {\n    navigate('/', { replace: true })\n    return null\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Registration page | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <AuthWrapper>\n        <AuthLeftContainer />\n        <AuthRightContainer>\n          <div>\n            <form className='form-default' onSubmit={handleSubmit(onSubmit)}>\n              <div className='header'>{t('authentication:title-sign-up')}</div>\n              {state.errorCode && <FormError status={state.errorCode} />}\n              <div className='form-element'>\n                <label htmlFor='username'>\n                  {t('authentication:username-label')}\n                </label>\n                <input\n                  className='input-default'\n                  type='text'\n                  name='username'\n                  data-cy='username'\n                  ref={register({ required: true })}\n                />\n                {errors.username && <FormError type={errors.username.type} />}\n              </div>\n              <div className='form-element'>\n                <label htmlFor='email'>{t('authentication:email-label')}</label>\n                <input\n                  className='input-default'\n                  type='text'\n                  name='email'\n                  data-cy='email'\n                  ref={register({ required: true })}\n                />\n                {errors.email && <FormError type={errors.email.type} />}\n              </div>\n              <div className='form-element'>\n                <label htmlFor='password'>\n                  {t('authentication:password-label')}\n                </label>\n                <input\n                  className='input-default'\n                  type='password'\n                  name='password'\n                  data-cy='password'\n                  ref={register({\n                    required: 'This is required',\n                    minLength: {\n                      value: 8,\n                      message: 'Password must have at least 8 characters'\n                    }\n                  })}\n                />\n                {errors.password && (\n                  <FormError message={errors.password.message} />\n                )}\n              </div>\n              <div className='form-element'>\n                <div className='flex flex-row flex-align-center '>\n                  <input\n                    type='checkbox'\n                    name='tc'\n                    data-cy='tc'\n                    ref={register({\n                      required: 'You must accept our Terms and Conditions'\n                    })}\n                  />\n                  <label htmlFor='tc'>\n                    I agree to the{' '}\n                    <Link className='link link-default' to='/policies'>\n                      Terms and Conditions\n                    </Link>\n                    {errors.tc && <FormError message={errors.tc.message} />}\n                  </label>\n                </div>\n              </div>\n              <Button\n                type='submit'\n                className='btn btn-default'\n                data-cy='btn-register'\n              >\n                {t('authentication:register-label')}\n              </Button>\n            </form>\n            <div className='flex flex-row flex-space-between margin-top-l'>\n              <Link className='link link-default' to='/login'>\n                {t('authentication:existing-user')}\n              </Link>\n            </div>\n          </div>\n        </AuthRightContainer>\n      </AuthWrapper>\n    </>\n  )\n}\n\nexport default Register\n","import React, { useState, useContext } from 'react'\nimport { useForm } from 'react-hook-form'\n\nimport { Link } from '@reach/router'\nimport { useTranslation } from 'react-i18next'\nimport { Helmet } from 'react-helmet'\n\nimport Button from '../components/Button'\nimport FormError from '../components/FormError'\nimport useAuth from '../hooks/useAuth'\nimport Context from '../modules/Context'\nimport AuthWrapper, {\n  AuthLeftContainer,\n  AuthRightContainer\n} from '../components/AuthWrapper'\n\nconst ForgotPassword = () => {\n  const { t } = useTranslation()\n\n  const { state } = useContext(Context)\n\n  const { forgotPassword } = useAuth()\n\n  const { register, handleSubmit, errors } = useForm()\n\n  const [response, setResponse] = useState('')\n\n  const onSubmit = async (data) => {\n    try {\n      const reply = await forgotPassword({\n        email: data.email\n      })\n      setResponse(reply)\n    } catch (e) {}\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Forgot password? | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <AuthWrapper>\n        <AuthLeftContainer />\n        <AuthRightContainer>\n          <div>\n            <div className='header'>{t('authentication:forgot-password')}</div>\n            {response ? (\n              <>\n                <p>We have e-mailed you a password reset link</p>\n              </>\n            ) : (\n              <>\n                {state.errorCode && <FormError status={state.errorCode} />}\n                <form\n                  className='form-default'\n                  onSubmit={handleSubmit(onSubmit)}\n                >\n                  <div className='form-element'>\n                    <label htmlFor='email'>\n                      {t('authentication:email-label')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='email'\n                      name='email'\n                      ref={register({ required: true })}\n                    />\n                    {errors.email && <FormError type={errors.email.type} />}\n                  </div>\n                  <Button type='submit' className='btn btn-default'>\n                    {t('authentication:submit-label')}\n                  </Button>\n                </form>\n                <div className='flex flex-row flex-space-between margin-top-l'>\n                  <Link className='link link-default' to='/login'>\n                    {t('authentication:existing-user')}\n                  </Link>\n                </div>\n              </>\n            )}\n          </div>\n        </AuthRightContainer>\n      </AuthWrapper>\n    </>\n  )\n}\n\nexport default ForgotPassword\n","import React, { useState, useContext } from 'react'\nimport { useForm } from 'react-hook-form'\n\nimport { Link, useLocation } from '@reach/router'\nimport { useTranslation } from 'react-i18next'\n\nimport { Helmet } from 'react-helmet'\n\nimport Button from '../components/Button'\nimport FormError from '../components/FormError'\nimport useAuth from '../hooks/useAuth'\nimport Context from '../modules/Context'\nimport AuthWrapper, {\n  AuthLeftContainer,\n  AuthRightContainer\n} from '../components/AuthWrapper'\n\nconst ResetPassword = () => {\n  const { t } = useTranslation()\n\n  const { state } = useContext(Context)\n\n  const { resetPassword } = useAuth()\n\n  const { register, handleSubmit, errors } = useForm()\n\n  const location = useLocation()\n\n  const [response, setResponse] = useState('')\n\n  const onSubmit = async (data) => {\n    try {\n      const reply = await resetPassword({\n        code: location.search.slice(6),\n        password: data.password,\n        passwordConfirmation: data.passwordConfirmation\n      })\n      setResponse(reply)\n    } catch (e) {}\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Reset your password | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <AuthWrapper>\n        <AuthLeftContainer />\n        <AuthRightContainer>\n          <div>\n            {response ? (\n              <>\n                <div className='header'>\n                  {t('authentication:forgot-password')}\n                </div>\n                <p>Your password has been reset.</p>\n                <div className='flex flex-row flex-space-between'>\n                  <Link className='link link-default' to='/login'>\n                    {t('authentication:reset-password-done')}\n                  </Link>\n                </div>\n              </>\n            ) : (\n              <>\n                {state.errorCode && <FormError status={state.errorCode} />}\n                <form\n                  className='form-default'\n                  onSubmit={handleSubmit(onSubmit)}\n                >\n                  <div className='header'>\n                    {t('authentication:reset-password')}\n                  </div>\n                  <div className='form-element'>\n                    <label htmlFor='password'>\n                      {t('authentication:new-password')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='password'\n                      name='password'\n                      ref={register({ required: true })}\n                    />\n\n                    {errors.password && (\n                      <FormError type={errors.password.type} />\n                    )}\n                  </div>\n                  <div className='form-element'>\n                    <label htmlFor='confirm-password'>\n                      {t('authentication:confirm-password')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='password'\n                      name='passwordConfirmation'\n                      ref={register({ required: true })}\n                    />\n                    {errors.passwordConfirmation && (\n                      <FormError type={errors.passwordConfirmation.type} />\n                    )}\n                  </div>\n                  <Button type='submit' className='btn btn-default'>\n                    {t('authentication:submit-label')}\n                  </Button>\n                </form>\n              </>\n            )}\n          </div>\n        </AuthRightContainer>\n      </AuthWrapper>\n    </>\n  )\n}\n\nexport default ResetPassword\n","import React, { useState } from 'react'\nimport MarkdownIt from 'markdown-it'\nimport MdEditor from 'react-markdown-editor-lite'\nimport 'react-markdown-editor-lite/lib/index.css'\n\nconst mdParser = new MarkdownIt().set({ html: true })\n\nfunction MarkdownEditor({ value, callback }) {\n  const [userInput, setUserInput] = useState('')\n\n  return (\n    <MdEditor\n      config={{\n        view: {\n          html: false\n        }\n      }}\n      plugins={[\n        'header',\n        'font-bold',\n        'font-italic',\n        'list-unordered',\n        'list-ordered',\n        'link',\n        'mode-toggle'\n      ]}\n      style={{ height: '350px' }}\n      renderHTML={(text) => mdParser.render(text)}\n      onChange={({ html, text }) => {\n        if (typeof value === typeof undefined) {\n          setUserInput(text)\n        }\n        callback(html, text)\n      }}\n      value={value ?? userInput}\n    />\n  )\n}\n\nexport default MarkdownEditor\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { debounce } from 'lodash'\nimport userStory from '../services/user_story'\nimport { strip } from '../utils/filterText'\nimport { EOS_ARROW_FORWARD, EOS_THUMB_UP } from 'eos-icons-react'\n\nconst Search = (props) => {\n  const { title } = props\n\n  const [searchResults, setSearchResults] = useState([])\n\n  const handleTitleChange = useCallback(\n    debounce(async (title) => {\n      const response = await userStory.getStoriesByTitle(title)\n      setSearchResults(response.data.data.userStories)\n    }, 600),\n    []\n  )\n\n  useEffect(() => {\n    if (!title) {\n      return\n    }\n    handleTitleChange(title)\n  }, [title, handleTitleChange])\n\n  if (!title) {\n    return ''\n  }\n  return (\n    <div className='flex flex-column title-search'>\n      <h4>\n        <EOS_ARROW_FORWARD className='eos-icons' />\n        {searchResults.length > 0\n          ? ' We found some matching results'\n          : ' No matching stories found. Go ahead and create one.'}\n      </h4>\n      {searchResults.map((result, key) => {\n        return (\n          <div\n            className='story title-search-results'\n            onClick={() => window.open(`/story/${result.id}`, '_blank')}\n            key={key}\n          >\n            <div className='stories-content title-search-result'>\n              <h4>{strip(result.Title, 80)}</h4>\n            </div>\n            <div className='icon-display'>\n              {result.followers.length}\n              <EOS_THUMB_UP className='eos-icons' />\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default Search\n","import React from 'react'\n\nconst MediaPreview = ({ attachments, setAttachments }) => {\n  const removeFile = (name) => {\n    setAttachments(attachments.filter((attachment) => attachment.name !== name))\n  }\n\n  const mediaPreview = attachments.map((file) => (\n    <div className='preview-root' key={file.name}>\n      <button\n        className='preview-remove-button'\n        onClick={() => removeFile(file.name)}\n      >\n        &times;\n      </button>\n      <div className='preview-inner'>\n        <img src={file.preview} className='preview-image' alt='preview' />\n      </div>\n    </div>\n  ))\n\n  return <div className='preview-container'>{mediaPreview}</div>\n}\n\nexport default MediaPreview\n","import React, { useEffect } from 'react'\nimport { useDropzone } from 'react-dropzone'\nimport MediaPreview from './MediaPreview'\n\nconst Dragdrop = ({ attachments, setAttachments }) => {\n  const { getRootProps, getInputProps } = useDropzone({\n    multiple: true,\n    onDrop: (acceptedFiles) => {\n      setAttachments((attachments) => [\n        ...attachments,\n        ...acceptedFiles.map((file) =>\n          Object.assign(file, {\n            preview: URL.createObjectURL(file)\n          })\n        )\n      ])\n    }\n  })\n\n  useEffect(\n    () => () => {\n      attachments.forEach((attachment) =>\n        URL.revokeObjectURL(attachment.preview)\n      )\n    },\n    [attachments]\n  )\n\n  return (\n    <section className='container'>\n      <div {...getRootProps({ className: 'dropzone' })}>\n        <input {...getInputProps()} />\n        <p>Drag 'n' drop some files here, or click to select files</p>\n      </div>\n      <MediaPreview attachments={attachments} setAttachments={setAttachments} />\n    </section>\n  )\n}\n\nexport default Dragdrop\n","import React, { useLayoutEffect, useState, useEffect, useContext } from 'react'\nimport { useForm } from 'react-hook-form'\nimport MarkdownEditor from '../components/MarkdownEditor'\nimport { filterDescriptionText } from '../utils/filterText'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\nimport { Helmet } from 'react-helmet'\n\nimport FormError from '../components/FormError'\nimport Navigation from '../components/Navigation'\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport Button from '../components/Button'\nimport Search from '../modules/TitleSearch'\nimport Dragdrop from '../components/Dragdrop'\nimport { navigate } from '@reach/router'\nimport Context from '../modules/Context'\nimport Login from './Login'\n\nimport userStory from '../services/user_story'\n\nconst initialDescriptionInputsValue = {\n  None: ''\n}\n\nconst NewStory = () => {\n  const { state } = useContext(Context)\n\n  const { register, handleSubmit, errors, watch } = useForm()\n\n  const [currentProductSelected, setCurrentProductSelected] = useState('None')\n\n  const [descriptionError, setDescriptionError] = useState(false)\n\n  const [descriptionInputs, setDescriptionInputs] = useState(\n    initialDescriptionInputsValue\n  )\n\n  const [description, setDescription] = useState('')\n\n  const [categories, setCategories] = useState([])\n\n  const [priorities, setPriorities] = useState([])\n\n  const [products, setProducts] = useState([])\n\n  const { promiseInProgress } = usePromiseTracker()\n\n  const [screenSize, setScreenSize] = useState(0)\n\n  const [attachments, setAttachments] = useState([])\n\n  useLayoutEffect(() => {\n    function updateScreenSize() {\n      setScreenSize(window.innerWidth)\n    }\n    window.addEventListener('resize', updateScreenSize)\n    updateScreenSize()\n    return () => window.removeEventListener('resize', updateScreenSize)\n  }, [])\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      const response = await userStory.getCategories()\n\n      setCategories(\n        response.data.data.__type.enumValues.map((ele) => {\n          return ele.name\n        })\n      )\n    }\n\n    trackPromise(fetchCategories())\n\n    const fetchProducts = async () => {\n      const response = await userStory.getProductsWithTemplates()\n      const { products } = response.data.data\n      setProducts(products)\n      const productToTemplateTextMap = {}\n      products.forEach((product) => {\n        productToTemplateTextMap[product.id] = product.product_template ?? ''\n      })\n      setDescriptionInputs({\n        ...initialDescriptionInputsValue,\n        ...productToTemplateTextMap\n      })\n    }\n\n    trackPromise(fetchProducts())\n\n    const fetchPriorities = async () => {\n      const response = await userStory.getPriorities()\n\n      setPriorities(\n        response.data.data.__type.enumValues.map((ele) => {\n          return ele.name\n        })\n      )\n    }\n\n    trackPromise(fetchPriorities())\n  }, [])\n\n  const handleProductSelectChange = (event) => {\n    const id = event.target.value\n    const selectedProduct = products.find((product) => product.id === id)\n    setCurrentProductSelected(selectedProduct?.id ?? 'None')\n  }\n\n  const descError = () => {\n    if (!description?.length) {\n      setDescriptionError(true)\n    }\n  }\n\n  const onSubmit = async (data) => {\n    data.Description = filterDescriptionText(description)\n    const formData = new FormData()\n    formData.append('data', JSON.stringify(data))\n    if (attachments.length) {\n      attachments.forEach((file) => {\n        formData.append('files.Attachment', file)\n      })\n    }\n    await userStory.createStory(formData)\n    navigate('/')\n  }\n\n  return state.auth ? (\n    <>\n      <Helmet>\n        <title>New story | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <Navigation />\n      {promiseInProgress ? (\n        <LoadingIndicator />\n      ) : (\n        <div className='body-content'>\n          <div className='flex flex-row body-wrapper'>\n            <div className='newstory'>\n              <h3>New Story</h3>\n              <form className='form-default' onSubmit={handleSubmit(onSubmit)}>\n                <div className='form-element'>\n                  <label htmlFor='title'>Title</label>\n                  <input\n                    className='input-default'\n                    type='text'\n                    name='Title'\n                    data-cy='title'\n                    autoComplete='off'\n                    ref={register({ required: 'Title cannot be empty' })}\n                  />\n                  {errors.Title && <FormError message={errors.Title.message} />}\n                </div>\n                {screenSize <= 1120 ? <Search title={watch('Title')} /> : ''}\n                <div className='form-element'>\n                  <label htmlFor='product'>Product</label>\n                  <select\n                    className='select-default'\n                    name='product'\n                    data-cy='product'\n                    onChange={handleProductSelectChange}\n                    ref={register({ required: 'Product must be set' })}\n                  >\n                    <option defaultValue={true} value=''>\n                      Select a product\n                    </option>\n                    {products &&\n                      products.map((ele, key) => {\n                        return (\n                          <option key={key} value={ele.id}>\n                            {ele.Name}\n                          </option>\n                        )\n                      })}\n                  </select>\n                  {errors.product && (\n                    <FormError message={errors.product.message} />\n                  )}\n                </div>\n                <div className='form-element'>\n                  <label htmlFor='category'>Category</label>\n                  <select\n                    className='select-default'\n                    name='Category'\n                    data-cy='category'\n                    ref={register({ required: 'Category must be set' })}\n                  >\n                    <option defaultValue={true} value=''>\n                      Select a category\n                    </option>\n                    {categories &&\n                      categories.map((ele, key) => {\n                        return (\n                          <option key={key} value={ele}>\n                            {ele}\n                          </option>\n                        )\n                      })}\n                  </select>\n                  {errors.Category && (\n                    <FormError message={errors.Category.message} />\n                  )}\n                </div>\n                <div className='form-element'>\n                  <label htmlFor='priority'>Priority</label>\n                  <select\n                    className='select-default'\n                    name='Priority'\n                    data-cy='priority'\n                    ref={register({ required: 'Priority must be set' })}\n                  >\n                    <option defaultValue={true} value=''>\n                      Select priority\n                    </option>\n                    {priorities &&\n                      priorities.map((ele, key) => {\n                        return (\n                          <option key={key} value={ele}>\n                            {ele}\n                          </option>\n                        )\n                      })}\n                  </select>\n                  {errors.Priority && (\n                    <FormError message={errors.Priority.message} />\n                  )}\n                </div>\n                <div className='form-element' data-cy='description-editor'>\n                  <label htmlFor='description'>Description</label>\n                  <MarkdownEditor\n                    callback={(html, text) => {\n                      const result = {}\n                      result[currentProductSelected] = text\n                      setDescription(html)\n                      setDescriptionError(false)\n                      setDescriptionInputs({\n                        ...descriptionInputs,\n                        ...result\n                      })\n                    }}\n                    value={descriptionInputs[currentProductSelected]}\n                  />\n                  {descriptionError && <FormError type='emptyDescription' />}\n                </div>\n                <Dragdrop\n                  attachments={attachments}\n                  setAttachments={setAttachments}\n                />\n                <div className='flex flex-row flex-center'>\n                  <Button\n                    type='submit'\n                    data-cy='btn-submit'\n                    className='btn btn-default'\n                    onClick={descError}\n                  >\n                    Submit\n                  </Button>\n                </div>\n              </form>\n            </div>\n            {screenSize > 1120 ? <Search title={watch('Title')} /> : ''}\n          </div>\n        </div>\n      )}\n    </>\n  ) : (\n    <Login message='Please login to create a new story' />\n  )\n}\n\nexport default NewStory\n","import React from 'react'\nimport ImageGallery from 'react-image-gallery'\n\nconst Gallery = ({ imageArray }) => {\n  const images =\n    imageArray?.map((attachment) => {\n      return {\n        original: attachment.url,\n        thumbnail: attachment.url\n        // originalHeight: 200,\n        // originalWidth: 150\n      }\n    }) ?? []\n\n  return imageArray.length !== 1 ? (\n    <ImageGallery items={images} showBullets={true} lazyLoad={true} />\n  ) : (\n    <ImageGallery\n      items={images}\n      lazyLoad={true}\n      showPlayButton={false}\n      showThumbnails={false}\n    />\n  )\n}\n\nexport default Gallery\n","import React, { useState, useEffect } from 'react'\nimport Modal from './Modal'\nimport { Link } from '@reach/router'\nimport userStory from '../services/user_story'\nimport Lists from '../utils/Lists'\nimport { EOS_THUMB_UP } from 'eos-icons-react'\n\nconst StoryPageTimeline = (props) => {\n  const { story, currentStatus } = props\n\n  const userId = localStorage.getItem('id')\n\n  const followerIds = story.followers.map((follower) =>\n    JSON.stringify(follower.id)\n  )\n\n  const [followers, setFollowers] = useState(followerIds)\n\n  const [votes, setVotes] = useState(story.followers.length)\n\n  const [voteClicked, setVoteClicked] = useState(false)\n\n  const [voted, setVoted] = useState(false)\n\n  const [isOpen, setIsOpen] = useState(false)\n\n  const [previousStatuses, setPreviousStatuses] = useState([])\n\n  const togglePopup = () => {\n    setIsOpen(!isOpen)\n  }\n\n  useEffect(() => {\n    const setStatuses = () => {\n      const tempList = []\n      for (let i = 0; i < Lists.stateList.length; i++) {\n        tempList.push(Lists.stateList[i].status)\n        if (Lists.stateList[i].status === currentStatus) break\n      }\n\n      setPreviousStatuses(tempList)\n    }\n    setStatuses()\n  }, [currentStatus])\n\n  useEffect(() => {\n    const followerIds = story.followers.map((follower) => follower.id)\n    if (followerIds.includes(userId)) {\n      setVoted(true)\n    }\n  }, [story.followers, userId])\n\n  const updateVote = async (story) => {\n    setVoteClicked(true)\n    if (voted) {\n      let updatedFollowerIds = followers.filter(\n        (id) => id !== JSON.stringify(userId)\n      )\n      const response = await userStory.updateVotes(story.id, updatedFollowerIds)\n      updatedFollowerIds = response.data.data.updateUserStory.userStory.followers.map(\n        (follower) => JSON.stringify(follower.id)\n      )\n      setFollowers(updatedFollowerIds)\n      setVoted(false)\n      setVotes((votes) => votes - 1)\n    } else {\n      followers.push(JSON.stringify(userId))\n      let updatedFollowerIds = followers\n      const response = await userStory.updateVotes(story.id, updatedFollowerIds)\n      updatedFollowerIds = response.data.data.updateUserStory.userStory.followers.map(\n        (follower) => JSON.stringify(follower.id)\n      )\n      setFollowers(updatedFollowerIds)\n      setVoted(true)\n      setVotes((votes) => votes + 1)\n    }\n    setVoteClicked(false)\n  }\n\n  return (\n    <div>\n      <div\n        className={`flex flex-column story-vote-wrapper ${\n          userId && voted ? 'story-vote-wrapper-voted' : ''\n        }`}\n      >\n        <div\n          className={`story-vote-button ${\n            userId ? 'story-vote-button-clickable' : ''\n          }`}\n          onClick={() => {\n            if (userId && !voteClicked) updateVote(story)\n          }}\n        >\n          <EOS_THUMB_UP className='eos-icons' color='white' size='l' />\n        </div>\n        <div className='story-votes-count' onClick={togglePopup}>\n          {votes} Votes\n        </div>\n        {isOpen && (\n          <Modal\n            content={\n              <>\n                <div>\n                  {story.followers.length === 0 ? (\n                    <h1>No Voters For This Story</h1>\n                  ) : (\n                    <h1>Voters For This Story</h1>\n                  )}\n                </div>\n                {story.followers.map((voters) => (\n                  <div className='flex flex-row author-information'>\n                    <div className='user-avatar avatar-vote'>\n                      <img\n                        className='avatar'\n                        src={`https://avatars.dicebear.com/api/jdenticon/${voters.username}.svg`}\n                        alt='Default User Avatar'\n                      ></img>\n                    </div>\n                    <div>\n                      <Link\n                        className='link-vote link link-default'\n                        to={`/profile/${voters.id}`}\n                      >\n                        {voters.username}\n                      </Link>\n                    </div>\n                  </div>\n                ))}\n              </>\n            }\n            handleClose={togglePopup}\n            active={isOpen}\n          />\n        )}\n      </div>\n      <div className='storypage-timeline'>\n        {Lists.stateList.map((ele, key) => {\n          return (\n            <div className='status-element' key={key}>\n              {previousStatuses.includes(ele.status) ? (\n                <div className='status-current'>\n                  <div className='status-icon'>\n                    {ele.icon}\n                    {ele.status}\n                  </div>\n                </div>\n              ) : (\n                <div className='status-previous'>\n                  <div className='status-icon'>\n                    {ele.icon}\n                    {ele.status}\n                  </div>\n                </div>\n              )}\n            </div>\n          )\n        })}\n      </div>\n      <div className='story-pattern'>\n        <img\n          src={require(`../assets/images/story-page-pattern.svg`)}\n          alt='pattern'\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default StoryPageTimeline\n","import React, { useState } from 'react'\nimport Button from './Button'\n\nconst ShowMore = ({ txt, textLength, maxCharacterLimit = 350 }) => {\n  const text = txt\n\n  const [isTruncated, setIsTruncated] = useState(true)\n\n  const resultString = isTruncated ? text.slice(0, maxCharacterLimit) : text\n\n  const toggleIsTruncated = () => {\n    setIsTruncated(!isTruncated)\n  }\n\n  return (\n    <>\n      {textLength <= maxCharacterLimit ? (\n        <div\n          dangerouslySetInnerHTML={{ __html: resultString }}\n          className='story-description flex-column'\n          data-cy='story-description'\n        />\n      ) : (\n        <div className='flex flex-column story-description'>\n          <div\n            dangerouslySetInnerHTML={{ __html: resultString }}\n            data-cy='story-description'\n          />\n          <Button\n            className='btn btn-transparent btn-reply'\n            onClick={toggleIsTruncated}\n          >\n            {' '}\n            {isTruncated ? 'Show More' : 'Show Less'}{' '}\n          </Button>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default ShowMore\n","import React, { useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { EOS_ATTACHMENT } from 'eos-icons-react'\n\nimport Button from './Button'\nimport FormError from './FormError'\nimport MediaPreview from './MediaPreview'\nimport userStory from '../services/user_story'\nimport { MentionsInput, Mention } from 'react-mentions'\n\nconst CommentForm = (props) => {\n  const {\n    id,\n    attachments,\n    setAttachments,\n    addComment,\n    comment,\n    setComment,\n    cta,\n    placeholder\n  } = props\n\n  const { register, errors, handleSubmit } = useForm()\n\n  const [users, setUsers] = useState([])\n\n  const fetchUsers = async () => {\n    const response = await userStory.getUsers()\n    setUsers(response.data?.data?.users ?? [])\n  }\n\n  fetchUsers()\n\n  const displayTransform = (id, display) => {\n    return `@${display}`\n  }\n\n  const handleFileChange = async (event) => {\n    const newFiles = event.target.files\n    const newFilesArray = []\n    for (let i = 0; i < newFiles.length; i++) {\n      newFilesArray.push(\n        Object.assign(newFiles[i], {\n          preview: URL.createObjectURL(newFiles[i])\n        })\n      )\n    }\n    setAttachments([...attachments, ...newFilesArray])\n  }\n\n  return (\n    <form className='comment-form' onSubmit={handleSubmit(addComment)}>\n      <div className='flex flex-row'>\n        <div className='comment-input'>\n          <MentionsInput\n            name='Comments'\n            value={comment}\n            data-cy={`comment-input-${id}`}\n            inputRef={register({ required: true })}\n            onChange={(e) => setComment(e.target.value)}\n            placeholder={placeholder}\n            allowSuggestionsAboveCursor={true}\n            className='mentions'\n          >\n            <Mention\n              trigger='@'\n              data={users}\n              displayTransform={displayTransform}\n            />\n          </MentionsInput>\n          <div className='file-input'>\n            <input\n              type='file'\n              id={`file-${id}`}\n              className='file'\n              multiple={true}\n              onChange={handleFileChange}\n            />\n            <label htmlFor={`file-${id}`} className='file-button-label'>\n              <EOS_ATTACHMENT className='eos-icons' size='l' />\n            </label>\n          </div>\n          <Button\n            className='btn btn-secondary btn-comment'\n            data-cy={`btn-comment-${id}`}\n          >\n            {cta}\n          </Button>\n        </div>\n      </div>\n      {errors.Comments && <FormError message='Reply cannot be empty' />}\n      <MediaPreview attachments={attachments} setAttachments={setAttachments} />\n    </form>\n  )\n}\n\nexport default CommentForm\n","import React, { useState, useEffect, useContext, useCallback } from 'react'\nimport { Link } from '@reach/router'\nimport Button from './Button'\nimport Gallery from './ImageGallery'\n\nimport CommentForm from './CommentForm'\nimport Context from '../modules/Context'\nimport userStory from '../services/user_story'\n\nconst attachFiles = (formData, attachments) => {\n  if (attachments.length) {\n    attachments.forEach((file) => {\n      formData.append('files.attachment', file)\n    })\n  }\n}\n\nconst toggleReplyForm = (repliesToggled, setRepliesToggled, key) => {\n  repliesToggled === key + 1\n    ? setRepliesToggled(null)\n    : setRepliesToggled(key + 1)\n}\n\nconst toggleViewReplies = (viewRepliesToggled, setViewRepliesToggled, key) => {\n  viewRepliesToggled.find((item) => item === key + 1)\n    ? setViewRepliesToggled((viewRepliesToggled) =>\n        viewRepliesToggled.filter((item) => item !== key + 1)\n      )\n    : setViewRepliesToggled((viewRepliesToggled) =>\n        viewRepliesToggled.concat(key + 1)\n      )\n}\n\nconst Comments = (props) => {\n  const { storyId } = props\n\n  const { state } = useContext(Context)\n\n  const id = localStorage.getItem('id')\n\n  const [comment, setComment] = useState('')\n\n  const [commentId, setCommentId] = useState()\n\n  const [commentReply, setCommentReply] = useState('')\n\n  const [comments, setComments] = useState([])\n\n  const [repliesToggled, setRepliesToggled] = useState()\n\n  const [viewRepliesToggled, setViewRepliesToggled] = useState([])\n\n  const [attachments, setAttachments] = useState([])\n\n  const [replyAttachments, setReplyAttachments] = useState([])\n\n  const fetchStoryComments = useCallback(async () => {\n    const response = await userStory.getComments(storyId)\n    setComments(response.data.data.userStory.user_story_comments)\n  }, [storyId])\n\n  useEffect(() => {\n    fetchStoryComments()\n  }, [fetchStoryComments])\n\n  useEffect(\n    () => () => {\n      attachments.forEach((file) => URL.revokeObjectURL(file.preview))\n      replyAttachments.forEach((file) => URL.revokeObjectURL(file.preview))\n    },\n    [attachments, replyAttachments]\n  )\n\n  const addComment = async (data) => {\n    const formData = new FormData()\n    data.user = id\n    data.user_story = storyId\n    formData.append('data', JSON.stringify(data))\n\n    attachFiles(formData, attachments)\n\n    await userStory.postComment(formData)\n\n    setComment('')\n    setAttachments([])\n\n    fetchStoryComments()\n  }\n\n  const addCommentReply = async (data) => {\n    const formData = new FormData()\n\n    data.user = id\n    data.user_story_comment = commentId\n    formData.append('data', JSON.stringify(data))\n\n    attachFiles(formData, replyAttachments)\n\n    await userStory.postCommentReply(formData)\n    setCommentReply('')\n    setReplyAttachments([])\n    setRepliesToggled(null)\n\n    fetchStoryComments()\n  }\n\n  return (\n    <div className='comments-wrapper'>\n      {state.auth && (\n        <div>\n          <CommentForm\n            id={2}\n            attachments={attachments}\n            setAttachments={setAttachments}\n            addComment={addComment}\n            comment={comment}\n            setComment={setComment}\n            cta={'Leave a Comment'}\n            placeholder={'Adding a Comment'}\n          />\n        </div>\n      )}\n      <h3>Comments</h3>\n      {comments.length ? (\n        comments.map((data, key) => {\n          return (\n            <div className='comment' key={key}>\n              <div className='user-avatar'>\n                <img\n                  className='avatar'\n                  src={`https://avatars.dicebear.com/api/jdenticon/${data.user.username}.svg`}\n                  alt='Default User Avatar'\n                ></img>\n              </div>\n              <div className='comment-content' data-cy='comment-content'>\n                <Link\n                  className='link link-default'\n                  data-cy='comment-username'\n                  to={`/profile/${data.user.id}`}\n                >\n                  {data.user.username}\n                </Link>\n                <div className='metadata'>\n                  <div>\n                    {`${data.createdAt.slice(0, 10)}  ${data.createdAt.slice(\n                      11,\n                      19\n                    )}`}\n                  </div>\n                </div>\n                <div dangerouslySetInnerHTML={{ __html: data.Comments }} />\n                <div>\n                  {!!data.attachment.length && (\n                    <div className='gallery-container-comment'>\n                      <Gallery imageArray={data.attachment} />\n                    </div>\n                  )}\n                </div>\n                <div className='reply-action'>\n                  {state.auth && (\n                    <Button\n                      className='btn btn-transparent btn-reply'\n                      onClick={() => {\n                        setCommentId(data.id)\n                        toggleReplyForm(repliesToggled, setRepliesToggled, key)\n                        toggleViewReplies(\n                          viewRepliesToggled,\n                          setViewRepliesToggled,\n                          key\n                        )\n                      }}\n                    >\n                      Reply\n                    </Button>\n                  )}\n                  {data.user_story_comment_replies.length > 0 ? (\n                    <Button\n                      className='btn btn-default'\n                      onClick={() => {\n                        toggleViewReplies(\n                          viewRepliesToggled,\n                          setViewRepliesToggled,\n                          key\n                        )\n                      }}\n                    >\n                      View Replies ({data.user_story_comment_replies.length})\n                    </Button>\n                  ) : (\n                    ''\n                  )}\n                </div>\n                {viewRepliesToggled.find((item) => item === key + 1) &&\n                  data.user_story_comment_replies.map((reply, key) => (\n                    <div className='comment' key={key}>\n                      <div className='user-avatar'>\n                        <img\n                          className='avatar'\n                          src={`https://avatars.dicebear.com/api/jdenticon/${reply.user.username}.svg`}\n                          alt='Default User Avatar'\n                        ></img>\n                      </div>\n                      <div className='comment-content'>\n                        <Link\n                          className='link link-default'\n                          to={`/profile/${data.user.id}`}\n                        >\n                          {reply.user.username}\n                        </Link>\n                        <div className='metadata'>\n                          {\n                            <div>\n                              {`${reply.createdAt.slice(\n                                0,\n                                10\n                              )}  ${reply.createdAt.slice(11, 19)}`}\n                            </div>\n                          }\n                        </div>\n                        <p>{reply.Comments}</p>\n                        {reply.attachment.length !== 0 ? (\n                          <div className='gallery-container'>\n                            <Gallery imageArray={reply.attachment} />\n                          </div>\n                        ) : (\n                          ''\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                {repliesToggled === key + 1 && state.auth && (\n                  <CommentForm\n                    id={1}\n                    attachments={replyAttachments}\n                    setAttachments={setReplyAttachments}\n                    addComment={addCommentReply}\n                    comment={commentReply}\n                    setComment={setCommentReply}\n                    cta={'Add Reply'}\n                    placeholder={'Adding a Reply'}\n                  />\n                )}\n              </div>\n            </div>\n          )\n        })\n      ) : (\n        <h3>No comments yet</h3>\n      )}\n    </div>\n  )\n}\n\nexport default Comments\n","import React, { useEffect, useState } from 'react'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\nimport {\n  TwitterShareButton,\n  LinkedinShareButton,\n  TwitterIcon,\n  LinkedinIcon\n} from 'react-share'\nimport Gallery from '../components/ImageGallery'\nimport { EOS_SHARE, EOS_CONTENT_COPY } from 'eos-icons-react'\nimport StoryPageTimeline from '../components/StoryPageTimeline'\nimport ShowMore from '../components/ShowMore'\nimport { Helmet } from 'react-helmet'\n\nimport MarkdownEditor from '../components/MarkdownEditor'\nimport { filterDescriptionText } from '../utils/filterText'\nimport Comments from '../components/Comments'\nimport Button from '../components/Button'\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport Navigation from '../components/Navigation'\nimport { Link, navigate } from '@reach/router'\nimport Modal from '../components/Modal'\nimport userStory from '../services/user_story'\n\nconst Story = (props) => {\n  const { storyId } = props\n\n  const userId = localStorage.getItem('id')\n\n  const [story, setStory] = useState('')\n\n  const [editDescription, setDescription] = useState('')\n\n  const [editMode, setEditMode] = useState(false)\n\n  const [editor, setEditor] = useState(false)\n\n  const { promiseInProgress } = usePromiseTracker()\n\n  const [isOpen, setIsOpen] = useState(false)\n\n  const togglePopup = () => {\n    setIsOpen(!isOpen)\n  }\n\n  useEffect(() => {\n    const fetchStory = async () => {\n      const response = await userStory.getStory(storyId)\n      setStory(response.data.data.userStory)\n    }\n    trackPromise(fetchStory())\n    const editStory = async () => {\n      const check = await userStory.checkAuthor(userId, storyId)\n      if (check.data) {\n        setEditMode(true)\n      }\n    }\n    if (userId) {\n      editStory()\n    }\n  }, [storyId, userId])\n\n  const save = async (event) => {\n    if (editDescription.length <= 0) {\n      return\n    }\n    event.preventDefault()\n    const combinedDescription = story.Description + editDescription\n    const filteredDescription = filterDescriptionText(combinedDescription)\n    await userStory.updateUserStoryDescription(storyId, filteredDescription)\n    setEditor(false)\n    setStory({\n      ...story,\n      Description: `${combinedDescription}`\n    })\n  }\n\n  if (story === null) {\n    navigate('/404', { replace: true })\n    return null\n  }\n\n  const copy = () => {\n    const dummy = document.createElement('input')\n    const text = window.location.href\n\n    document.body.appendChild(dummy)\n    dummy.value = text\n    dummy.select()\n    document.execCommand('copy')\n    document.body.removeChild(dummy)\n  }\n\n  const hashtagsArray = ['EOS', 'userstory']\n  const title = 'EOS User Story - POST Stories. GET Features.'\n\n  return (\n    <>\n      <Helmet>\n        <title>EOS User story</title>\n        <meta\n          name='description'\n          content=\"Share with us how you use our products, relate to other users stories, vote them up, and we'll make sure we deliver cohesive solutions that enhance your experience.\"\n        />\n        <meta name='keywords' content='user story, issue tracker' />\n      </Helmet>\n      <Navigation />\n      {promiseInProgress ? (\n        <LoadingIndicator />\n      ) : story ? (\n        <>\n          <div\n            className={\n              story.user_story_comments.length !== 0 || editor\n                ? 'body-content story-page-second'\n                : 'body-content story-page'\n            }\n          >\n            <div className='body-wrapper'>\n              <div className='story-heading flex flex-row'>\n                <svg\n                  className='story-title-pattern'\n                  width='41'\n                  height='41'\n                  viewBox='0 0 41 41'\n                  fill='none'\n                  xmlns='http://www.w3.org/2000/svg'\n                >\n                  <circle\n                    id='Ellipse 1'\n                    cx='20.5'\n                    cy='20.5'\n                    r='12'\n                    fill='#42779B'\n                  />\n                </svg>\n                <h2>{story.Title}</h2>\n                <div className='author-information'>\n                  <h4>\n                    By:{' '}\n                    <Link\n                      className='link link-default'\n                      to={`/profile/${story.author.id}`}\n                    >\n                      {story.author.username}\n                    </Link>\n                  </h4>\n                  <div className='user-avatar'>\n                    <img\n                      className='avatar'\n                      src={`https://avatars.dicebear.com/api/jdenticon/${story.author.username}.svg`}\n                      alt='Default User Avatar'\n                    ></img>\n                  </div>\n                  <div className='story-buttons-container-top'>\n                    {editMode && !editor ? (\n                      <>\n                        <Button\n                          className='btn btn-default'\n                          data-cy='btn-edit'\n                          onClick={() => setEditor(true)}\n                        >\n                          Edit\n                        </Button>\n                      </>\n                    ) : (\n                      ''\n                    )}\n                    {\n                      <>\n                        <Button className='share-story' onClick={togglePopup}>\n                          <EOS_SHARE className='eos-icons' />\n                        </Button>\n                        <Button className='share-story' onClick={copy}>\n                          <EOS_CONTENT_COPY className='eos-icons' />\n                        </Button>\n                      </>\n                    }\n                  </div>\n                </div>\n              </div>\n\n              <div className='flex flex-row'>\n                {editor ? (\n                  <div data-cy='edit-description' className='story-editor'>\n                    <MarkdownEditor\n                      callback={(html) => {\n                        setDescription(html)\n                      }}\n                    />\n                  </div>\n                ) : (\n                  <div className='flex flex-row'>\n                    {!!story.Attachment.length && (\n                      <div className='gallery-container flex-column'>\n                        <Gallery imageArray={story.Attachment} />\n                      </div>\n                    )}\n                    <ShowMore\n                      maxCharacterLimit={350}\n                      txt={story.Description}\n                      textLength={story.Description.length}\n                    />\n                  </div>\n                )}\n                <div className='right-nav'>\n                  <StoryPageTimeline\n                    story={story}\n                    currentStatus={story.user_story_status.Status}\n                  />\n                </div>\n              </div>\n              <div className='story-buttons-container-bottom'>\n                {editor ? (\n                  <Button\n                    className='btn btn-default btn-bottom'\n                    onClick={save}\n                    data-cy='btn-save'\n                  >\n                    Save\n                  </Button>\n                ) : (\n                  ''\n                )}\n                {editor ? (\n                  <Button\n                    className='btn btn-default btn-bottom'\n                    onClick={() => setEditor(false)}\n                  >\n                    Cancel\n                  </Button>\n                ) : (\n                  ''\n                )}\n              </div>\n              {isOpen && (\n                <Modal\n                  content={\n                    <>\n                      <h1>Share</h1>\n                      <TwitterShareButton\n                        url={window.location}\n                        className='share-button'\n                        title={title}\n                        hashtags={hashtagsArray}\n                        onShareWindowClose={togglePopup}\n                      >\n                        <TwitterIcon />\n                      </TwitterShareButton>\n                      <LinkedinShareButton\n                        url={window.location}\n                        className='share-button'\n                        onShareWindowClose={togglePopup}\n                      >\n                        <LinkedinIcon />\n                      </LinkedinShareButton>\n                    </>\n                  }\n                  handleClose={togglePopup}\n                  active={isOpen}\n                />\n              )}\n              <Comments storyId={storyId} />\n            </div>\n          </div>\n        </>\n      ) : (\n        ''\n      )}\n    </>\n  )\n}\n\nexport default Story\n","import React, { useState, useContext } from 'react'\nimport { Helmet } from 'react-helmet'\n\nimport Button from '../components/Button'\nimport Navigation from '../components/Navigation'\n\nimport Context from '../modules/Context'\nimport Login from './Login'\n\nimport Stories from '../components/Stories'\n\nconst MyStories = () => {\n  const { state } = useContext(Context)\n\n  const [currentStateSelected, selectState] = useState('My Submissions')\n\n  const id = localStorage.getItem('id')\n\n  return state.auth ? (\n    <>\n      <Helmet>\n        <title>My stories | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <Navigation />\n      <div className='body-content'>\n        <div className='body-wrapper my-stories'>\n          <h3>My Stories</h3>\n          <div className='flex flex-row roadmap-one'>\n            <Button\n              className={\n                currentStateSelected === 'My Submissions'\n                  ? 'btn btn-tabs btn-tabs-selected'\n                  : 'btn btn-tabs'\n              }\n              onClick={() => selectState('My Submissions')}\n            >\n              My Submissions\n            </Button>\n            &nbsp; &nbsp;\n            <Button\n              className={\n                currentStateSelected === 'Following'\n                  ? 'btn btn-tabs btn-tabs-selected'\n                  : 'btn btn-tabs'\n              }\n              onClick={() => selectState('Following')}\n            >\n              Following\n            </Button>\n          </div>\n\n          <Stories\n            authorId={currentStateSelected === 'My Submissions' ? id : null}\n            followerId={currentStateSelected === 'Following' ? id : null}\n          />\n        </div>\n      </div>\n    </>\n  ) : (\n    <Login message='Please login to access your stories' />\n  )\n}\n\nexport default MyStories\n","import React, { useEffect, useState } from 'react'\nimport { useDropzone } from 'react-dropzone'\nimport Modal from './Modal'\nimport axios from 'axios'\nimport { apiURL } from '../config.json'\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport FormError from './FormError'\nimport { EOS_DELETE } from 'eos-icons-react'\n\nconst ProfileImageUploader = ({\n  userId,\n  show,\n  setShow,\n  profilePicURL,\n  profilePicId\n}) => {\n  const [error, setError] = useState(null)\n  const [file, setFile] = useState(null)\n  const [removedProfilePic, setRemovedProfilePic] = useState(!profilePicURL)\n  const [isUploading, setIsUploading] = useState(false)\n  const clearModal = () => {\n    URL.revokeObjectURL(file?.preview)\n    setFile(null)\n    setShow(false)\n  }\n  const upload = async () => {\n    if (!file && (!removedProfilePic || !profilePicId)) {\n      clearModal()\n      return\n    }\n    if (profilePicURL && removedProfilePic && !file) {\n      try {\n        setIsUploading(true)\n        await axios.delete(`${apiURL}/upload/files/${profilePicId}`, {\n          withCredentials: true\n        })\n      } catch (err) {\n        setError('Unable to update profile picture. Please try again later.')\n      }\n    } else {\n      const formData = new FormData()\n      formData.append('files', file)\n      formData.append('ref', 'user')\n      formData.append('refId', userId)\n      formData.append('source', 'users-permissions')\n      formData.append('field', 'profilePicture')\n\n      try {\n        setIsUploading(true)\n        if (profilePicURL && removedProfilePic) {\n          await axios.all([\n            axios.delete(`${apiURL}/upload/files/${profilePicId}`, {\n              withCredentials: true\n            }),\n            axios.post(`${apiURL}/upload`, formData, {\n              headers: {\n                'Content-Type': 'multipart/form-data'\n              },\n              withCredentials: true\n            })\n          ])\n        } else {\n          await axios.post(`${apiURL}/upload`, formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            },\n            withCredentials: true\n          })\n        }\n      } catch (err) {\n        setError('Error updating profile picture. Try updating later')\n      }\n    }\n    setIsUploading(false)\n    setShow(false)\n    window.location.reload()\n  }\n\n  const { getRootProps, getInputProps } = useDropzone({\n    multiple: false,\n    accept: 'image/jpeg, image/png, image/gif',\n    minSize: 0,\n    maxSize: 153600,\n    onDrop: ([newFile], [rejectedFile]) => {\n      try {\n        setFile(\n          Object.assign(newFile, {\n            preview: URL.createObjectURL(newFile)\n          })\n        )\n        setError(null)\n      } catch (err) {\n        const fileErrors = rejectedFile.errors.map((error) => error.code)\n        if (fileErrors.indexOf('file-too-large') !== -1) {\n          setError('Please upload a file smaller than 150 kB')\n        }\n        if (fileErrors.indexOf('file-invalid-type') !== -1) {\n          setError(\n            'Please upload a file with .png, .jpg/.jpeg or .gif extensions'\n          )\n        }\n      }\n    }\n  })\n\n  useEffect(\n    () => () => {\n      URL.revokeObjectURL(file?.preview)\n    },\n    [file]\n  )\n\n  return isUploading ? (\n    <Modal isActive={true} showButtons={false}>\n      <LoadingIndicator />\n    </Modal>\n  ) : (\n    <Modal\n      isActive={show}\n      handleClose={() => setShow(false)}\n      onCancel={clearModal}\n      okText={'Save'}\n      onOk={upload}\n      showButtons\n    >\n      <section className='container'>\n        {!removedProfilePic && (\n          <aside className='preview-container'>\n            <span\n              className='remove-img-icon'\n              onClick={() => {\n                setRemovedProfilePic(true)\n                setFile(null)\n              }}\n            >\n              <EOS_DELETE className='eos-icons' />\n            </span>\n            <img\n              src={profilePicURL}\n              className='user-profile-avatar-img'\n              alt='preview'\n            />\n          </aside>\n        )}\n        {removedProfilePic &&\n          (!file ? (\n            <div {...getRootProps({ className: 'dropzone' })}>\n              <input {...getInputProps()} />\n              <p>\n                Drag 'n' drop your image here, or click to select one. For best\n                results upload images with 1:1 aspect ratio. Maximum allowed\n                file-size is 150 kB.\n              </p>\n            </div>\n          ) : (\n            <aside className='preview-container'>\n              <span\n                className='remove-img-icon'\n                onClick={() => {\n                  URL.revokeObjectURL(file.preview)\n                  setFile(null)\n                }}\n              >\n                <EOS_DELETE className='eos-icons' />\n              </span>\n              <img\n                src={file.preview}\n                className='user-profile-avatar-img'\n                alt='preview'\n              />\n            </aside>\n          ))}\n        {!!error && <FormError message={error} />}\n      </section>\n    </Modal>\n  )\n}\n\nexport default ProfileImageUploader\n","import React, { useState } from 'react'\nimport { EOS_SAVE, EOS_MODE_EDIT } from 'eos-icons-react'\n\nexport const EditableLabel = ({\n  name,\n  value,\n  type,\n  handleInputChange,\n  updateProfile,\n  children,\n  allowEditing,\n  ...props\n}) => {\n  const [editMode, setEditMode] = useState(false)\n\n  const ComponentToRender = (type) => {\n    switch (type) {\n      case 'text': {\n        return (\n          <TextInput\n            onChange={handleInputChange}\n            defaultValue={value}\n            onKeyPress={(e) => {\n              handleInputChange(e)\n\n              if (e.key === 'Enter') {\n                updateProfile()\n                setEditMode(!editMode)\n              }\n            }}\n            name={name}\n            {...props}\n          />\n        )\n      }\n      case 'textArea': {\n        return (\n          <TextArea\n            onChange={handleInputChange}\n            defaultValue={value}\n            onKeyPress={handleInputChange}\n            name={name}\n            {...props}\n          />\n        )\n      }\n      default: {\n        return 'No component was found'\n      }\n    }\n  }\n  return (\n    <div className='editable-label'>\n      {!editMode && (\n        <>\n          {children}\n          {allowEditing && (\n            <button\n              className='editable-label-edit-btn'\n              onClick={() => setEditMode(!editMode)}\n            >\n              <EOS_MODE_EDIT className='eos-icons' />\n            </button>\n          )}\n        </>\n      )}\n      {editMode && (\n        <>\n          {ComponentToRender(type)}\n          <button\n            onClick={() => {\n              setEditMode(!editMode)\n              updateProfile()\n            }}\n          >\n            <EOS_SAVE className='eos-icons' />\n          </button>\n        </>\n      )}\n    </div>\n  )\n}\n\nconst TextInput = (props) => {\n  return <input className='input-default' type='text' {...props} />\n}\n\nconst TextArea = (props) => {\n  return <textarea type='text' {...props} rows={4} cols={60} />\n}\n\nexport default EditableLabel\n","import React from 'react'\nimport { EOS_MODE_EDIT } from 'eos-icons-react'\n\nconst EditProfileBadge = ({ allowEditing, showModal }) => {\n  return allowEditing ? (\n    <div className='user-profile-edit-badge' onClick={showModal}>\n      Edit <EOS_MODE_EDIT className='eos-icons' color='white' />\n    </div>\n  ) : null\n}\n\nexport default EditProfileBadge\n","import React, { useState } from 'react'\nimport Skeleton from 'react-loading-skeleton'\nimport ProfileImageUploader from './ProfileImageUploader'\nimport EditableLabel from './EditableLabel'\nimport EditProfileBadge from './EditProfileBadge'\n\nexport const UserProfile = ({\n  allowEditing,\n  user,\n  handleInputChange,\n  updateProfile\n}) => {\n  return (\n    <>\n      <div className='user-profile margin-top-xxl margin-bottom-m'>\n        <UserAvatar user={user} allowEditing={allowEditing} />\n        <UserDetails\n          user={user}\n          handleInputChange={handleInputChange}\n          updateProfile={updateProfile}\n          allowEditing={allowEditing}\n        />\n      </div>\n      {allowEditing && <UserSettings user={user} />}\n    </>\n  )\n}\n\nexport const UserAvatar = ({ user, allowEditing }) => {\n  const [modalVisible, setModalVisible] = useState(false)\n\n  return (\n    <div className='user-profile-avatar'>\n      <EditProfileBadge\n        allowEditing={allowEditing}\n        showModal={() => setModalVisible(true)}\n      />\n      {!user ? (\n        <Skeleton circle width={150} height={150} />\n      ) : (\n        <img\n          className='user-profile-avatar-img'\n          src={\n            user?.profilePicture?.url ??\n            `https://avatars.dicebear.com/api/jdenticon/${user.username}.svg`\n          }\n          alt='User avatar'\n        />\n      )}\n      {modalVisible && (\n        <ProfileImageUploader\n          userId={user.id}\n          show={modalVisible}\n          setShow={setModalVisible}\n          profilePicURL={user?.profilePicture?.url ?? null}\n          profilePicId={user?.profilePicture?.id ?? null}\n        />\n      )}\n    </div>\n  )\n}\n\nexport const UserSettings = ({ user }) => {\n  return (\n    <div className='user-profile-settings'>\n      {!user ? (\n        <Skeleton width={200} />\n      ) : (\n        <ul>\n          <li>\n            Email address:\n            <span>{user?.email}</span>\n          </li>\n          <li>\n            Username:\n            <span>{user?.username}</span>\n          </li>\n          <li>\n            <a className='link link-default' href='/changePassword'>\n              Change password\n            </a>\n          </li>\n        </ul>\n      )}\n    </div>\n  )\n}\n\nexport const UserDetails = ({\n  user,\n  handleInputChange,\n  allowEditing,\n  updateProfile\n}) => {\n  return (\n    <div className='user-profile-details'>\n      {!user ? (\n        <Skeleton count={2} />\n      ) : (\n        <>\n          <EditableLabel\n            type='text'\n            name={'Name'}\n            value={user.Name ?? user.username}\n            className='input-default'\n            handleInputChange={handleInputChange}\n            allowEditing={allowEditing}\n            updateProfile={updateProfile}\n            placeholder='Your name'\n          >\n            <h2 className='user-profile-name'>\n              {user.Name ? user.Name : user.username}\n            </h2>\n          </EditableLabel>\n          <EditableLabel\n            type='textArea'\n            name={'Bio'}\n            value={user.Bio}\n            handleInputChange={handleInputChange}\n            allowEditing={allowEditing}\n            updateProfile={updateProfile}\n            placeholder='Say something about yourself'\n          >\n            <p>\n              {user.Bio ||\n                (allowEditing ? 'Say something about yourself' : 'Hi There!')}\n            </p>\n          </EditableLabel>\n        </>\n      )}\n\n      <div className='user-profile-extra'>\n        {!user ? (\n          <Skeleton height={70} />\n        ) : (\n          <ul>\n            {allowEditing || user.Profession ? (\n              <li>\n                Profession\n                <EditableLabel\n                  type='text'\n                  name={'Profession'}\n                  value={user.Profession}\n                  handleInputChange={handleInputChange}\n                  allowEditing={allowEditing}\n                  updateProfile={updateProfile}\n                  placeholder='Your job title'\n                >\n                  <span>\n                    {!user.Profession ? 'Your job title' : user.Profession}\n                  </span>\n                </EditableLabel>\n              </li>\n            ) : null}\n            {allowEditing || user.Company ? (\n              <li>\n                Company\n                <EditableLabel\n                  type='text'\n                  name={'Company'}\n                  value={user.Company}\n                  handleInputChange={handleInputChange}\n                  allowEditing={allowEditing}\n                  updateProfile={updateProfile}\n                  placeholder='Your company name'\n                >\n                  <span>\n                    {!user.Company ? 'Your company name' : user.Company}\n                  </span>\n                </EditableLabel>\n              </li>\n            ) : null}\n            {allowEditing || user.LinkedIn ? (\n              <li>\n                LinkedIn\n                <EditableLabel\n                  type='text'\n                  name={'LinkedIn'}\n                  value={user.LinkedIn}\n                  handleInputChange={handleInputChange}\n                  allowEditing={allowEditing}\n                  updateProfile={updateProfile}\n                  placeholder='Your LinkedIn username'\n                >\n                  <span>\n                    {user.LinkedIn ? (\n                      <a\n                        className='link link-default'\n                        href={`https://www.linkedin.com/in/${user?.LinkedIn}`}\n                        target='_blank'\n                        rel='noopener noreferrer'\n                      >\n                        {user.LinkedIn}\n                      </a>\n                    ) : (\n                      'Your LinkedIn username'\n                    )}\n                  </span>\n                </EditableLabel>\n              </li>\n            ) : null}\n            {allowEditing || user.Twitter ? (\n              <li>\n                Twitter\n                <EditableLabel\n                  type='text'\n                  name={'Twitter'}\n                  value={user.Twitter}\n                  handleInputChange={handleInputChange}\n                  allowEditing={allowEditing}\n                  updateProfile={updateProfile}\n                  placeholder='Your Twitter handle'\n                >\n                  <span>\n                    {user.Twitter ? (\n                      <a\n                        className='link link-default'\n                        href={`https://twitter.com/${user?.Twitter}`}\n                        target='_blank'\n                        rel='noopener noreferrer'\n                      >\n                        {user.Twitter ? `@${user.Twitter}` : ''}\n                      </a>\n                    ) : (\n                      'Your Twitter handle'\n                    )}\n                  </span>\n                </EditableLabel>\n              </li>\n            ) : null}\n          </ul>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default UserProfile\n","import React, { useEffect, useState, useContext } from 'react'\nimport { Helmet } from 'react-helmet'\n\nimport Navigation from '../components/Navigation'\nimport Context from '../modules/Context'\nimport Login from './Login'\nimport UserProfile from '../components/UserProfile'\nimport userStory from '../services/user_story'\n\nconst MyProfile = () => {\n  const userId = localStorage.getItem('id')\n\n  const { state } = useContext(Context)\n\n  const [user, setUser] = useState('')\n\n  const [, setUpdated] = useState(false)\n\n  const handleInputChange = (event) => {\n    setUser({\n      ...user,\n      [event.target.name]: event.target.value\n    })\n  }\n\n  const updateProfile = async () => {\n    const response = await userStory.updateUser({ id: userId, ...user })\n    if (response) {\n      setUpdated(true)\n    }\n  }\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      const response = await userStory.getUserDetails(userId)\n      setUser(response.data.data.user)\n    }\n    if (userId) {\n      fetchUserInfo()\n    }\n  }, [userId])\n\n  return state.auth ? (\n    <>\n      <Helmet>\n        <title>My profile | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <Navigation />\n      <div className='body-content'>\n        <div className='body-wrapper'>\n          <div className='flex flex-row user-profile-wrapper'>\n            <div className='flex flex-column'>\n              <UserProfile\n                user={user === '' ? '' : Object.assign(user, { id: userId })}\n                handleInputChange={handleInputChange}\n                updateProfile={updateProfile}\n                allowEditing\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  ) : (\n    <Login message='Please login to access your profile' />\n  )\n}\n\nexport default MyProfile\n","import React from 'react'\nimport Button from '../components/Button'\nimport { navigate } from '@reach/router'\nimport { Helmet } from 'react-helmet'\n\nconst Page404 = () => {\n  return (\n    <>\n      <Helmet>\n        <title>404 Not Found | EOS User story</title>\n      </Helmet>\n\n      <div className='body-content'>\n        <div className='body-wrapper pg-404'>\n          <svg\n            className='svg-right flex flex-column'\n            width='121'\n            height='240'\n            viewBox='0 0 121 240'\n            fill='none'\n            xmlns='http://www.w3.org/2000/svg'\n          >\n            <g id='g-right'>\n              <path\n                id='r-4'\n                d='M120 240H75C66.72 240 60 233.28 60 225V180H105C113.28 180 120 186.72 120 195V240Z'\n                fill='#0AA5A5'\n              />\n              <path\n                id='r-2'\n                d='M61 120H106C114.28 120 121 113.28 121 105V60H76C67.72 60 61 66.72 61 75V120Z'\n                fill='#0AA5A5'\n              />\n              <path\n                id='r-3'\n                d='M0 180H45C53.28 180 60 173.28 60 165V120H15C6.72 120 0 126.72 0 135V180Z'\n                fill='#00CCD1'\n              />\n              <path\n                id='r-1'\n                d='M60 60H15C6.72 60 0 53.28 0 45V0H45C53.28 0 60 6.72 60 15V60Z'\n                fill='#00CCD1'\n              />\n            </g>\n          </svg>\n\n          <h1 className='heading-404'>404</h1>\n          <hr className='hr-404' />\n          <p className='p-404'>\n            The page you are looking for could not be found.\n          </p>\n          <Button\n            className='btn btn-default btn-404'\n            onClick={() => navigate('/')}\n          >\n            Back to Home\n          </Button>\n\n          <svg\n            className='svg-left flex flex-column'\n            width='121'\n            height='240'\n            viewBox='0 0 121 240'\n            fill='none'\n            xmlns='http://www.w3.org/2000/svg'\n          >\n            <g id='g-left'>\n              <path\n                id='l-4'\n                d='M120 240H75C66.72 240 60 233.28 60 225V180H105C113.28 180 120 186.72 120 195V240Z'\n                fill='#1A2A3A'\n              />\n              <path\n                id='l-2'\n                d='M61 120H106C114.28 120 121 113.28 121 105V60H76C67.72 60 61 66.72 61 75V120Z'\n                fill='#1A2A3A'\n              />\n              <path\n                id='l-3'\n                d='M0 180H45C53.28 180 60 173.28 60 165V120H15C6.72 120 0 126.72 0 135V180Z'\n                fill='#00CCD1'\n              />\n              <path\n                id='l-1'\n                d='M60 60H15C6.72 60 0 53.28 0 45V0H45C53.28 0 60 6.72 60 15V60Z'\n                fill='#00CCD1'\n              />\n            </g>\n          </svg>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Page404\n","import React, { useState, useEffect } from 'react'\nimport { Helmet } from 'react-helmet'\nimport { navigate } from '@reach/router'\n\nimport Stories from '../components/Stories'\nimport Navigation from '../components/Navigation'\nimport UserProfile from '../components/UserProfile'\n\nimport userStory from '../services/user_story'\n\nconst Profile = (props) => {\n  const { profileId } = props\n  const [user, setUser] = useState('')\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      const response = await userStory.getUserDetails(profileId)\n      setUser(response.data.data.user)\n    }\n    if (profileId) {\n      fetchUserInfo()\n    }\n  }, [profileId])\n\n  if (user === null) {\n    navigate('/404', { replace: true })\n    return null\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>{`${user.username} | EOS User story`}</title>\n        <meta name='description' content={`${user.Bio}`} />\n        <meta name='keywords' content='user story, issue tracker' />\n      </Helmet>\n      <Navigation />\n      <div className='body-content'>\n        <div className='body-wrapper'>\n          <div className='flex flex-row flex-space-around'>\n            <div className='flex flex-column'>\n              <UserProfile user={user} />\n            </div>\n          </div>\n          <div className='flex flex-column'>\n            <h3>Stories by this user</h3>\n            <Stories authorId={profileId} />\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Profile\n","import React, { useState, useContext } from 'react'\nimport { useForm } from 'react-hook-form'\n\nimport { navigate } from '@reach/router'\nimport { useTranslation } from 'react-i18next'\nimport { Helmet } from 'react-helmet'\n\nimport Button from '../components/Button'\nimport useAuth from '../hooks/useAuth'\nimport FormError from '../components/FormError'\nimport Context from '../modules/Context'\nimport AuthWrapper, {\n  AuthLeftContainer,\n  AuthRightContainer\n} from '../components/AuthWrapper'\n\nimport Login from './Login'\n\nconst ChangePassword = () => {\n  const { t } = useTranslation()\n\n  const { state, dispatch } = useContext(Context)\n\n  const { changePassword, logout } = useAuth()\n\n  const { register, handleSubmit, errors } = useForm()\n\n  const [response, setResponse] = useState('')\n\n  const onSubmit = async (data) => {\n    try {\n      const reply = await changePassword({\n        ...data,\n        id: localStorage.getItem('id')\n      })\n      setResponse(reply)\n    } catch (e) {}\n  }\n\n  const handleNavigateToLogin = async () => {\n    await logout()\n    dispatch({\n      type: 'DEAUTHENTICATE'\n    })\n    navigate('/login')\n  }\n\n  return state.auth ? (\n    <>\n      <Helmet>\n        <title>Change your password | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <AuthWrapper>\n        <AuthLeftContainer />\n        <AuthRightContainer>\n          <div>\n            {response ? (\n              <>\n                <div className='header'>{t('authentication:success')}</div>\n                <p>Your password has been reset.</p>\n                <div className='flex flex-row flex-space-between'>\n                  <span\n                    className='link link-default'\n                    onClick={handleNavigateToLogin}\n                  >\n                    {t('authentication:reset-password-done')}\n                  </span>\n                </div>\n              </>\n            ) : (\n              <>\n                {state.errorCode && <FormError status={state.errorCode} />}\n                <form\n                  className='form-default'\n                  onSubmit={handleSubmit(onSubmit)}\n                >\n                  <div className='header'>\n                    {t('authentication:reset-password')}\n                  </div>\n                  <div className='form-element'>\n                    <label htmlFor='password'>\n                      {t('authentication:old-password')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='password'\n                      name='oldPassword'\n                      ref={register({ required: true })}\n                    />\n                    {errors.oldPassword && (\n                      <FormError type={errors.oldPassword.type} />\n                    )}\n                  </div>\n                  <div className='form-element'>\n                    <label htmlFor='password'>\n                      {t('authentication:new-password')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='password'\n                      name='password'\n                      ref={register({ required: true })}\n                    />\n                    {errors.password && (\n                      <FormError type={errors.password.type} />\n                    )}\n                  </div>\n                  <div className='form-element'>\n                    <label htmlFor='confirm-password'>\n                      {t('authentication:confirm-password')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='password'\n                      name='passwordConfirmation'\n                      ref={register({ required: true })}\n                    />\n                    {errors.passwordConfirmation && (\n                      <FormError type={errors.passwordConfirmation.type} />\n                    )}\n                  </div>\n                  <Button type='submit' className='btn btn-default'>\n                    {t('authentication:submit-label')}\n                  </Button>\n                </form>\n              </>\n            )}\n          </div>\n        </AuthRightContainer>\n      </AuthWrapper>\n    </>\n  ) : (\n    <Login message='Please login to access your profile' />\n  )\n}\n\nexport default ChangePassword\n","import React, { useState, useEffect } from 'react'\nimport Navigation from '../components/Navigation'\nimport ReactMarkdown from 'react-markdown'\nimport { Helmet } from 'react-helmet'\nimport { usePromiseTracker, trackPromise } from 'react-promise-tracker'\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport userStory from '../services/user_story'\n\nconst Policies = () => {\n  const [policies, setPolicies] = useState('')\n\n  const { promiseInProgress } = usePromiseTracker()\n\n  useEffect(() => {\n    const fetchPolicies = async () => {\n      const response = await userStory.getPolicies()\n      setPolicies(response.data.data.userStoryPolicies?.[0].Description)\n    }\n    trackPromise(fetchPolicies())\n  }, [])\n\n  return (\n    <>\n      <Helmet>\n        <title>Cookie & Privacy Policies | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <Navigation />\n      <div className='body-content'>\n        <div className='body-wrapper'>\n          {promiseInProgress ? (\n            <LoadingIndicator />\n          ) : policies ? (\n            <ReactMarkdown>{policies && `${policies}`}</ReactMarkdown>\n          ) : (\n            <h3>No policies</h3>\n          )}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Policies\n","import React, { useState, useEffect } from 'react'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\nimport { navigate } from '@reach/router'\n\nimport Navigation from '../components/Navigation'\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport { Helmet } from 'react-helmet'\nimport userStory from '../services/user_story'\n\nconst Notifications = () => {\n  const userId = localStorage.getItem('id')\n\n  const [notifications, setNotifications] = useState([])\n\n  const { promiseInProgress } = usePromiseTracker()\n\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      const response = await userStory.getNotificationsByUserId(userId)\n      setNotifications(response.data.data.userStoryNotifications)\n    }\n    trackPromise(fetchNotifications())\n  }, [userId])\n\n  return (\n    <>\n      <Helmet>\n        <title>Notifications | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <Navigation />\n      {promiseInProgress ? (\n        <LoadingIndicator />\n      ) : (\n        <div className='body-content'>\n          <div className='body-wrapper'>\n            <h3>Notifications</h3>\n            <div className='flex flex-column'>\n              {notifications.length > 0 ? (\n                notifications.map((ele, key) => {\n                  return (\n                    <div\n                      className='notification'\n                      key={key}\n                      onClick={() => navigate(`/${ele.link}`)}\n                    >\n                      <div className='notification-text'>{ele.message}</div>\n                      <div className='notification-text'>\n                        {`${ele.date.slice(0, 10)}  ${ele.date.slice(11, 19)}`}\n                      </div>\n                    </div>\n                  )\n                })\n              ) : (\n                <div className='notification'>\n                  <div className='notification-text'>\n                    No notifications at the moment\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Notifications\n","export const ContextReducer = (state, action) => {\n  switch (action.type) {\n    case 'AUTHENTICATE':\n      return {\n        ...state,\n        auth: true\n      }\n    case 'DEAUTHENTICATE':\n      return {\n        ...state,\n        auth: false\n      }\n    case 'ERROR':\n      return {\n        ...state,\n        errorCode: action.payload\n      }\n    default:\n      return state\n  }\n}\n\nexport default ContextReducer\n","import React from 'react'\n\nexport default () => {\n  return (\n    <div className='footer-main'>\n      <a className='link link-default' href='/policies'>\n        Cookies and Privacy policy\n      </a>\n\n      <p>We only use strictly necessary cookies</p>\n    </div>\n  )\n}\n","import React, { useEffect, useReducer } from 'react'\nimport { Router } from '@reach/router'\nimport './assets/scss/index.scss'\n\nimport Home from './pages/Home'\nimport Login from './pages/Login'\nimport Register from './pages/Register'\nimport ForgotPassword from './pages/ForgotPassword'\nimport ResetPassword from './pages/ResetPassword'\nimport NewStory from './pages/NewStory'\nimport Story from './pages/Story'\nimport MyStories from './pages/MyStories'\nimport MyProfile from './pages/MyProfile'\nimport Page404 from './pages/Page404'\nimport Profile from './pages/Profile'\nimport ChangePassword from './pages/ChangePassword'\nimport Policies from './pages/Policies'\nimport Notifications from './pages/Notifications'\nimport Context from './modules/Context'\nimport ContextReducer from './modules/ContextReducer'\nimport Footer from './components/Footer'\n\nconst initialState = {\n  auth: false,\n  errorCode: null\n}\n\nconst App = () => {\n  const [state, dispatch] = useReducer(ContextReducer, initialState)\n\n  const userId = localStorage.getItem('id')\n\n  useEffect(() => {\n    window.addEventListener('storage', (e) => {\n      if (localStorage.getItem('id')) {\n        dispatch({\n          type: 'AUTHENTICATE'\n        })\n      } else {\n        dispatch({\n          type: 'DEAUTHENTICATE'\n        })\n      }\n    })\n  }, [])\n\n  useEffect(() => {\n    if (userId) {\n      dispatch({\n        type: 'AUTHENTICATE'\n      })\n    } else {\n      dispatch({\n        type: 'DEAUTHENTICATE'\n      })\n    }\n  }, [userId])\n\n  return (\n    <Context.Provider value={{ state, dispatch }}>\n      <Router>\n        <Home path='/' />\n        <Register path='/register' />\n        <Login path='/login' />\n        <ForgotPassword path='/forgotPassword' />\n        <ResetPassword path='/resetPassword' />\n        <NewStory path='/newStory' />\n        <Story path='/story/:storyId' />\n        <MyStories path='/myStories' />\n        <MyProfile path='/myProfile' />\n        <Profile path='/profile/:profileId' />\n        <Notifications path='/notifications' />\n        <ChangePassword path='/changePassword' />\n        <Policies path='/policies' />\n        <Page404 default />\n      </Router>\n      <Footer />\n    </Context.Provider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport commonES from '../translations/es/common.json'\nimport commonEN from '../translations/en/common.json'\n\n// the translations\n// (tip move them in a JSON file and import them)\nconst resources = {\n  en: commonEN,\n  es: commonES\n}\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    lng: 'en',\n\n    keySeparator: false, // we do not use keys in form messages.welcome\n\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  })\n\nexport default i18n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport './modules/i18n.js'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","module.exports = __webpack_public_path__ + \"static/media/user-story-logo.ed111364.svg\";"],"sourceRoot":""}